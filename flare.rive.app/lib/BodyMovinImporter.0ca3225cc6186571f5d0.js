!function(t){var e={};function r(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/lib/",r(r.s=202)}({12:function(t,e,r){
/*!
@fileoverview gl-matrix - High performance matrix and vector operations
@author Brandon Jones
@author Colin MacKenzie IV
@version 2.7.1

Copyright (c) 2015-2018, Brandon Jones, Colin MacKenzie IV.

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

*/
"undefined"!=typeof self&&self,t.exports=function(t){var e={};function r(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=6)}([function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setMatrixArrayType=function(t){e.ARRAY_TYPE=t},e.toRadian=function(t){return t*a},e.equals=function(t,e){return Math.abs(t-e)<=n*Math.max(1,Math.abs(t),Math.abs(e))};var n=e.EPSILON=1e-6;e.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,e.RANDOM=Math.random;var a=Math.PI/180},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sub=e.mul=void 0,e.create=function(){var t=new n.ARRAY_TYPE(9);return n.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t},e.fromMat4=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},e.clone=function(t){var e=new n.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},e.fromValues=function(t,e,r,a,i,s,o,u,h){var c=new n.ARRAY_TYPE(9);return c[0]=t,c[1]=e,c[2]=r,c[3]=a,c[4]=i,c[5]=s,c[6]=o,c[7]=u,c[8]=h,c},e.set=function(t,e,r,n,a,i,s,o,u,h){return t[0]=e,t[1]=r,t[2]=n,t[3]=a,t[4]=i,t[5]=s,t[6]=o,t[7]=u,t[8]=h,t},e.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.transpose=function(t,e){if(t===e){var r=e[1],n=e[2],a=e[5];t[1]=e[3],t[2]=e[6],t[3]=r,t[5]=e[7],t[6]=n,t[7]=a}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t},e.invert=function(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],s=e[4],o=e[5],u=e[6],h=e[7],c=e[8],l=c*s-o*h,f=-c*i+o*u,d=h*i-s*u,m=r*l+n*f+a*d;return m?(m=1/m,t[0]=l*m,t[1]=(-c*n+a*h)*m,t[2]=(o*n-a*s)*m,t[3]=f*m,t[4]=(c*r-a*u)*m,t[5]=(-o*r+a*i)*m,t[6]=d*m,t[7]=(-h*r+n*u)*m,t[8]=(s*r-n*i)*m,t):null},e.adjoint=function(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],s=e[4],o=e[5],u=e[6],h=e[7],c=e[8];return t[0]=s*c-o*h,t[1]=a*h-n*c,t[2]=n*o-a*s,t[3]=o*u-i*c,t[4]=r*c-a*u,t[5]=a*i-r*o,t[6]=i*h-s*u,t[7]=n*u-r*h,t[8]=r*s-n*i,t},e.determinant=function(t){var e=t[0],r=t[1],n=t[2],a=t[3],i=t[4],s=t[5],o=t[6],u=t[7],h=t[8];return e*(h*i-s*u)+r*(-h*a+s*o)+n*(u*a-i*o)},e.multiply=a,e.translate=function(t,e,r){var n=e[0],a=e[1],i=e[2],s=e[3],o=e[4],u=e[5],h=e[6],c=e[7],l=e[8],f=r[0],d=r[1];return t[0]=n,t[1]=a,t[2]=i,t[3]=s,t[4]=o,t[5]=u,t[6]=f*n+d*s+h,t[7]=f*a+d*o+c,t[8]=f*i+d*u+l,t},e.rotate=function(t,e,r){var n=e[0],a=e[1],i=e[2],s=e[3],o=e[4],u=e[5],h=e[6],c=e[7],l=e[8],f=Math.sin(r),d=Math.cos(r);return t[0]=d*n+f*s,t[1]=d*a+f*o,t[2]=d*i+f*u,t[3]=d*s-f*n,t[4]=d*o-f*a,t[5]=d*u-f*i,t[6]=h,t[7]=c,t[8]=l,t},e.scale=function(t,e,r){var n=r[0],a=r[1];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=a*e[3],t[4]=a*e[4],t[5]=a*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},e.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t},e.fromRotation=function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=0,t[3]=-r,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromMat2d=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t},e.fromQuat=function(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],s=r+r,o=n+n,u=a+a,h=r*s,c=n*s,l=n*o,f=a*s,d=a*o,m=a*u,p=i*s,_=i*o,M=i*u;return t[0]=1-l-m,t[3]=c-M,t[6]=f+_,t[1]=c+M,t[4]=1-h-m,t[7]=d-p,t[2]=f-_,t[5]=d+p,t[8]=1-h-l,t},e.normalFromMat4=function(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],s=e[4],o=e[5],u=e[6],h=e[7],c=e[8],l=e[9],f=e[10],d=e[11],m=e[12],p=e[13],_=e[14],M=e[15],v=r*o-n*s,y=r*u-a*s,g=r*h-i*s,P=n*u-a*o,b=n*h-i*o,T=a*h-i*u,O=c*p-l*m,S=c*_-f*m,A=c*M-d*m,w=l*_-f*p,E=l*M-d*p,I=f*M-d*_,N=v*I-y*E+g*w+P*A-b*S+T*O;return N?(N=1/N,t[0]=(o*I-u*E+h*w)*N,t[1]=(u*A-s*I-h*S)*N,t[2]=(s*E-o*A+h*O)*N,t[3]=(a*E-n*I-i*w)*N,t[4]=(r*I-a*A+i*S)*N,t[5]=(n*A-r*E-i*O)*N,t[6]=(p*T-_*b+M*P)*N,t[7]=(_*g-m*T-M*y)*N,t[8]=(m*b-p*g+M*v)*N,t):null},e.projection=function(t,e,r){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/r,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t},e.str=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},e.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},e.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t[8]=e[8]+r[8],t},e.subtract=i,e.multiplyScalar=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*r,t},e.multiplyScalarAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t[4]=e[4]+r[4]*n,t[5]=e[5]+r[5]*n,t[6]=e[6]+r[6]*n,t[7]=e[7]+r[7]*n,t[8]=e[8]+r[8]*n,t},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]},e.equals=function(t,e){var r=t[0],a=t[1],i=t[2],s=t[3],o=t[4],u=t[5],h=t[6],c=t[7],l=t[8],f=e[0],d=e[1],m=e[2],p=e[3],_=e[4],M=e[5],v=e[6],y=e[7],g=e[8];return Math.abs(r-f)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(a-d)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(d))&&Math.abs(i-m)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(m))&&Math.abs(s-p)<=n.EPSILON*Math.max(1,Math.abs(s),Math.abs(p))&&Math.abs(o-_)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(_))&&Math.abs(u-M)<=n.EPSILON*Math.max(1,Math.abs(u),Math.abs(M))&&Math.abs(h-v)<=n.EPSILON*Math.max(1,Math.abs(h),Math.abs(v))&&Math.abs(c-y)<=n.EPSILON*Math.max(1,Math.abs(c),Math.abs(y))&&Math.abs(l-g)<=n.EPSILON*Math.max(1,Math.abs(l),Math.abs(g))};var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(0));function a(t,e,r){var n=e[0],a=e[1],i=e[2],s=e[3],o=e[4],u=e[5],h=e[6],c=e[7],l=e[8],f=r[0],d=r[1],m=r[2],p=r[3],_=r[4],M=r[5],v=r[6],y=r[7],g=r[8];return t[0]=f*n+d*s+m*h,t[1]=f*a+d*o+m*c,t[2]=f*i+d*u+m*l,t[3]=p*n+_*s+M*h,t[4]=p*a+_*o+M*c,t[5]=p*i+_*u+M*l,t[6]=v*n+y*s+g*h,t[7]=v*a+y*o+g*c,t[8]=v*i+y*u+g*l,t}function i(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t[6]=e[6]-r[6],t[7]=e[7]-r[7],t[8]=e[8]-r[8],t}e.mul=a,e.sub=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sub=e.mul=void 0,e.create=function(){var t=new n.ARRAY_TYPE(16);return n.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t},e.clone=function(t){var e=new n.ARRAY_TYPE(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},e.fromValues=function(t,e,r,a,i,s,o,u,h,c,l,f,d,m,p,_){var M=new n.ARRAY_TYPE(16);return M[0]=t,M[1]=e,M[2]=r,M[3]=a,M[4]=i,M[5]=s,M[6]=o,M[7]=u,M[8]=h,M[9]=c,M[10]=l,M[11]=f,M[12]=d,M[13]=m,M[14]=p,M[15]=_,M},e.set=function(t,e,r,n,a,i,s,o,u,h,c,l,f,d,m,p,_){return t[0]=e,t[1]=r,t[2]=n,t[3]=a,t[4]=i,t[5]=s,t[6]=o,t[7]=u,t[8]=h,t[9]=c,t[10]=l,t[11]=f,t[12]=d,t[13]=m,t[14]=p,t[15]=_,t},e.identity=a,e.transpose=function(t,e){if(t===e){var r=e[1],n=e[2],a=e[3],i=e[6],s=e[7],o=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=r,t[6]=e[9],t[7]=e[13],t[8]=n,t[9]=i,t[11]=e[14],t[12]=a,t[13]=s,t[14]=o}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t},e.invert=function(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],s=e[4],o=e[5],u=e[6],h=e[7],c=e[8],l=e[9],f=e[10],d=e[11],m=e[12],p=e[13],_=e[14],M=e[15],v=r*o-n*s,y=r*u-a*s,g=r*h-i*s,P=n*u-a*o,b=n*h-i*o,T=a*h-i*u,O=c*p-l*m,S=c*_-f*m,A=c*M-d*m,w=l*_-f*p,E=l*M-d*p,I=f*M-d*_,N=v*I-y*E+g*w+P*A-b*S+T*O;return N?(N=1/N,t[0]=(o*I-u*E+h*w)*N,t[1]=(a*E-n*I-i*w)*N,t[2]=(p*T-_*b+M*P)*N,t[3]=(f*b-l*T-d*P)*N,t[4]=(u*A-s*I-h*S)*N,t[5]=(r*I-a*A+i*S)*N,t[6]=(_*g-m*T-M*y)*N,t[7]=(c*T-f*g+d*y)*N,t[8]=(s*E-o*A+h*O)*N,t[9]=(n*A-r*E-i*O)*N,t[10]=(m*b-p*g+M*v)*N,t[11]=(l*g-c*b-d*v)*N,t[12]=(o*S-s*w-u*O)*N,t[13]=(r*w-n*S+a*O)*N,t[14]=(p*y-m*P-_*v)*N,t[15]=(c*P-l*y+f*v)*N,t):null},e.adjoint=function(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],s=e[4],o=e[5],u=e[6],h=e[7],c=e[8],l=e[9],f=e[10],d=e[11],m=e[12],p=e[13],_=e[14],M=e[15];return t[0]=o*(f*M-d*_)-l*(u*M-h*_)+p*(u*d-h*f),t[1]=-(n*(f*M-d*_)-l*(a*M-i*_)+p*(a*d-i*f)),t[2]=n*(u*M-h*_)-o*(a*M-i*_)+p*(a*h-i*u),t[3]=-(n*(u*d-h*f)-o*(a*d-i*f)+l*(a*h-i*u)),t[4]=-(s*(f*M-d*_)-c*(u*M-h*_)+m*(u*d-h*f)),t[5]=r*(f*M-d*_)-c*(a*M-i*_)+m*(a*d-i*f),t[6]=-(r*(u*M-h*_)-s*(a*M-i*_)+m*(a*h-i*u)),t[7]=r*(u*d-h*f)-s*(a*d-i*f)+c*(a*h-i*u),t[8]=s*(l*M-d*p)-c*(o*M-h*p)+m*(o*d-h*l),t[9]=-(r*(l*M-d*p)-c*(n*M-i*p)+m*(n*d-i*l)),t[10]=r*(o*M-h*p)-s*(n*M-i*p)+m*(n*h-i*o),t[11]=-(r*(o*d-h*l)-s*(n*d-i*l)+c*(n*h-i*o)),t[12]=-(s*(l*_-f*p)-c*(o*_-u*p)+m*(o*f-u*l)),t[13]=r*(l*_-f*p)-c*(n*_-a*p)+m*(n*f-a*l),t[14]=-(r*(o*_-u*p)-s*(n*_-a*p)+m*(n*u-a*o)),t[15]=r*(o*f-u*l)-s*(n*f-a*l)+c*(n*u-a*o),t},e.determinant=function(t){var e=t[0],r=t[1],n=t[2],a=t[3],i=t[4],s=t[5],o=t[6],u=t[7],h=t[8],c=t[9],l=t[10],f=t[11],d=t[12],m=t[13],p=t[14],_=t[15];return(e*s-r*i)*(l*_-f*p)-(e*o-n*i)*(c*_-f*m)+(e*u-a*i)*(c*p-l*m)+(r*o-n*s)*(h*_-f*d)-(r*u-a*s)*(h*p-l*d)+(n*u-a*o)*(h*m-c*d)},e.multiply=i,e.translate=function(t,e,r){var n=r[0],a=r[1],i=r[2],s=void 0,o=void 0,u=void 0,h=void 0,c=void 0,l=void 0,f=void 0,d=void 0,m=void 0,p=void 0,_=void 0,M=void 0;return e===t?(t[12]=e[0]*n+e[4]*a+e[8]*i+e[12],t[13]=e[1]*n+e[5]*a+e[9]*i+e[13],t[14]=e[2]*n+e[6]*a+e[10]*i+e[14],t[15]=e[3]*n+e[7]*a+e[11]*i+e[15]):(s=e[0],o=e[1],u=e[2],h=e[3],c=e[4],l=e[5],f=e[6],d=e[7],m=e[8],p=e[9],_=e[10],M=e[11],t[0]=s,t[1]=o,t[2]=u,t[3]=h,t[4]=c,t[5]=l,t[6]=f,t[7]=d,t[8]=m,t[9]=p,t[10]=_,t[11]=M,t[12]=s*n+c*a+m*i+e[12],t[13]=o*n+l*a+p*i+e[13],t[14]=u*n+f*a+_*i+e[14],t[15]=h*n+d*a+M*i+e[15]),t},e.scale=function(t,e,r){var n=r[0],a=r[1],i=r[2];return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*a,t[5]=e[5]*a,t[6]=e[6]*a,t[7]=e[7]*a,t[8]=e[8]*i,t[9]=e[9]*i,t[10]=e[10]*i,t[11]=e[11]*i,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},e.rotate=function(t,e,r,a){var i,s,o,u,h,c,l,f,d,m,p,_,M,v,y,g,P,b,T,O,S,A,w,E,I=a[0],N=a[1],L=a[2],R=Math.sqrt(I*I+N*N+L*L);return R<n.EPSILON?null:(I*=R=1/R,N*=R,L*=R,i=Math.sin(r),o=1-(s=Math.cos(r)),u=e[0],h=e[1],c=e[2],l=e[3],f=e[4],d=e[5],m=e[6],p=e[7],_=e[8],M=e[9],v=e[10],y=e[11],g=I*I*o+s,P=N*I*o+L*i,b=L*I*o-N*i,T=I*N*o-L*i,O=N*N*o+s,S=L*N*o+I*i,A=I*L*o+N*i,w=N*L*o-I*i,E=L*L*o+s,t[0]=u*g+f*P+_*b,t[1]=h*g+d*P+M*b,t[2]=c*g+m*P+v*b,t[3]=l*g+p*P+y*b,t[4]=u*T+f*O+_*S,t[5]=h*T+d*O+M*S,t[6]=c*T+m*O+v*S,t[7]=l*T+p*O+y*S,t[8]=u*A+f*w+_*E,t[9]=h*A+d*w+M*E,t[10]=c*A+m*w+v*E,t[11]=l*A+p*w+y*E,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)},e.rotateX=function(t,e,r){var n=Math.sin(r),a=Math.cos(r),i=e[4],s=e[5],o=e[6],u=e[7],h=e[8],c=e[9],l=e[10],f=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=i*a+h*n,t[5]=s*a+c*n,t[6]=o*a+l*n,t[7]=u*a+f*n,t[8]=h*a-i*n,t[9]=c*a-s*n,t[10]=l*a-o*n,t[11]=f*a-u*n,t},e.rotateY=function(t,e,r){var n=Math.sin(r),a=Math.cos(r),i=e[0],s=e[1],o=e[2],u=e[3],h=e[8],c=e[9],l=e[10],f=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*a-h*n,t[1]=s*a-c*n,t[2]=o*a-l*n,t[3]=u*a-f*n,t[8]=i*n+h*a,t[9]=s*n+c*a,t[10]=o*n+l*a,t[11]=u*n+f*a,t},e.rotateZ=function(t,e,r){var n=Math.sin(r),a=Math.cos(r),i=e[0],s=e[1],o=e[2],u=e[3],h=e[4],c=e[5],l=e[6],f=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*a+h*n,t[1]=s*a+c*n,t[2]=o*a+l*n,t[3]=u*a+f*n,t[4]=h*a-i*n,t[5]=c*a-s*n,t[6]=l*a-o*n,t[7]=f*a-u*n,t},e.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t},e.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.fromRotation=function(t,e,r){var a,i,s,o=r[0],u=r[1],h=r[2],c=Math.sqrt(o*o+u*u+h*h);return c<n.EPSILON?null:(o*=c=1/c,u*=c,h*=c,a=Math.sin(e),s=1-(i=Math.cos(e)),t[0]=o*o*s+i,t[1]=u*o*s+h*a,t[2]=h*o*s-u*a,t[3]=0,t[4]=o*u*s-h*a,t[5]=u*u*s+i,t[6]=h*u*s+o*a,t[7]=0,t[8]=o*h*s+u*a,t[9]=u*h*s-o*a,t[10]=h*h*s+i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)},e.fromXRotation=function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n,t[6]=r,t[7]=0,t[8]=0,t[9]=-r,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.fromYRotation=function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=0,t[2]=-r,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=r,t[9]=0,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.fromZRotation=function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=0,t[3]=0,t[4]=-r,t[5]=n,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.fromRotationTranslation=s,e.fromQuat2=function(t,e){var r=new n.ARRAY_TYPE(3),a=-e[0],i=-e[1],o=-e[2],u=e[3],h=e[4],c=e[5],l=e[6],f=e[7],d=a*a+i*i+o*o+u*u;return d>0?(r[0]=2*(h*u+f*a+c*o-l*i)/d,r[1]=2*(c*u+f*i+l*a-h*o)/d,r[2]=2*(l*u+f*o+h*i-c*a)/d):(r[0]=2*(h*u+f*a+c*o-l*i),r[1]=2*(c*u+f*i+l*a-h*o),r[2]=2*(l*u+f*o+h*i-c*a)),s(t,e,r),t},e.getTranslation=function(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t},e.getScaling=function(t,e){var r=e[0],n=e[1],a=e[2],i=e[4],s=e[5],o=e[6],u=e[8],h=e[9],c=e[10];return t[0]=Math.sqrt(r*r+n*n+a*a),t[1]=Math.sqrt(i*i+s*s+o*o),t[2]=Math.sqrt(u*u+h*h+c*c),t},e.getRotation=function(t,e){var r=e[0]+e[5]+e[10],n=0;return r>0?(n=2*Math.sqrt(r+1),t[3]=.25*n,t[0]=(e[6]-e[9])/n,t[1]=(e[8]-e[2])/n,t[2]=(e[1]-e[4])/n):e[0]>e[5]&&e[0]>e[10]?(n=2*Math.sqrt(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/n,t[0]=.25*n,t[1]=(e[1]+e[4])/n,t[2]=(e[8]+e[2])/n):e[5]>e[10]?(n=2*Math.sqrt(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/n,t[0]=(e[1]+e[4])/n,t[1]=.25*n,t[2]=(e[6]+e[9])/n):(n=2*Math.sqrt(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/n,t[0]=(e[8]+e[2])/n,t[1]=(e[6]+e[9])/n,t[2]=.25*n),t},e.fromRotationTranslationScale=function(t,e,r,n){var a=e[0],i=e[1],s=e[2],o=e[3],u=a+a,h=i+i,c=s+s,l=a*u,f=a*h,d=a*c,m=i*h,p=i*c,_=s*c,M=o*u,v=o*h,y=o*c,g=n[0],P=n[1],b=n[2];return t[0]=(1-(m+_))*g,t[1]=(f+y)*g,t[2]=(d-v)*g,t[3]=0,t[4]=(f-y)*P,t[5]=(1-(l+_))*P,t[6]=(p+M)*P,t[7]=0,t[8]=(d+v)*b,t[9]=(p-M)*b,t[10]=(1-(l+m))*b,t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t},e.fromRotationTranslationScaleOrigin=function(t,e,r,n,a){var i=e[0],s=e[1],o=e[2],u=e[3],h=i+i,c=s+s,l=o+o,f=i*h,d=i*c,m=i*l,p=s*c,_=s*l,M=o*l,v=u*h,y=u*c,g=u*l,P=n[0],b=n[1],T=n[2],O=a[0],S=a[1],A=a[2],w=(1-(p+M))*P,E=(d+g)*P,I=(m-y)*P,N=(d-g)*b,L=(1-(f+M))*b,R=(_+v)*b,x=(m+y)*T,q=(_-v)*T,D=(1-(f+p))*T;return t[0]=w,t[1]=E,t[2]=I,t[3]=0,t[4]=N,t[5]=L,t[6]=R,t[7]=0,t[8]=x,t[9]=q,t[10]=D,t[11]=0,t[12]=r[0]+O-(w*O+N*S+x*A),t[13]=r[1]+S-(E*O+L*S+q*A),t[14]=r[2]+A-(I*O+R*S+D*A),t[15]=1,t},e.fromQuat=function(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],s=r+r,o=n+n,u=a+a,h=r*s,c=n*s,l=n*o,f=a*s,d=a*o,m=a*u,p=i*s,_=i*o,M=i*u;return t[0]=1-l-m,t[1]=c+M,t[2]=f-_,t[3]=0,t[4]=c-M,t[5]=1-h-m,t[6]=d+p,t[7]=0,t[8]=f+_,t[9]=d-p,t[10]=1-h-l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.frustum=function(t,e,r,n,a,i,s){var o=1/(r-e),u=1/(a-n),h=1/(i-s);return t[0]=2*i*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*i*u,t[6]=0,t[7]=0,t[8]=(r+e)*o,t[9]=(a+n)*u,t[10]=(s+i)*h,t[11]=-1,t[12]=0,t[13]=0,t[14]=s*i*2*h,t[15]=0,t},e.perspective=function(t,e,r,n,a){var i=1/Math.tan(e/2),s=void 0;return t[0]=i/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=a&&a!==1/0?(s=1/(n-a),t[10]=(a+n)*s,t[14]=2*a*n*s):(t[10]=-1,t[14]=-2*n),t},e.perspectiveFromFieldOfView=function(t,e,r,n){var a=Math.tan(e.upDegrees*Math.PI/180),i=Math.tan(e.downDegrees*Math.PI/180),s=Math.tan(e.leftDegrees*Math.PI/180),o=Math.tan(e.rightDegrees*Math.PI/180),u=2/(s+o),h=2/(a+i);return t[0]=u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=h,t[6]=0,t[7]=0,t[8]=-(s-o)*u*.5,t[9]=(a-i)*h*.5,t[10]=n/(r-n),t[11]=-1,t[12]=0,t[13]=0,t[14]=n*r/(r-n),t[15]=0,t},e.ortho=function(t,e,r,n,a,i,s){var o=1/(e-r),u=1/(n-a),h=1/(i-s);return t[0]=-2*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*h,t[11]=0,t[12]=(e+r)*o,t[13]=(a+n)*u,t[14]=(s+i)*h,t[15]=1,t},e.lookAt=function(t,e,r,i){var s=void 0,o=void 0,u=void 0,h=void 0,c=void 0,l=void 0,f=void 0,d=void 0,m=void 0,p=void 0,_=e[0],M=e[1],v=e[2],y=i[0],g=i[1],P=i[2],b=r[0],T=r[1],O=r[2];return Math.abs(_-b)<n.EPSILON&&Math.abs(M-T)<n.EPSILON&&Math.abs(v-O)<n.EPSILON?a(t):(f=_-b,d=M-T,m=v-O,s=g*(m*=p=1/Math.sqrt(f*f+d*d+m*m))-P*(d*=p),o=P*(f*=p)-y*m,u=y*d-g*f,(p=Math.sqrt(s*s+o*o+u*u))?(s*=p=1/p,o*=p,u*=p):(s=0,o=0,u=0),h=d*u-m*o,c=m*s-f*u,l=f*o-d*s,(p=Math.sqrt(h*h+c*c+l*l))?(h*=p=1/p,c*=p,l*=p):(h=0,c=0,l=0),t[0]=s,t[1]=h,t[2]=f,t[3]=0,t[4]=o,t[5]=c,t[6]=d,t[7]=0,t[8]=u,t[9]=l,t[10]=m,t[11]=0,t[12]=-(s*_+o*M+u*v),t[13]=-(h*_+c*M+l*v),t[14]=-(f*_+d*M+m*v),t[15]=1,t)},e.targetTo=function(t,e,r,n){var a=e[0],i=e[1],s=e[2],o=n[0],u=n[1],h=n[2],c=a-r[0],l=i-r[1],f=s-r[2],d=c*c+l*l+f*f;d>0&&(c*=d=1/Math.sqrt(d),l*=d,f*=d);var m=u*f-h*l,p=h*c-o*f,_=o*l-u*c;return(d=m*m+p*p+_*_)>0&&(m*=d=1/Math.sqrt(d),p*=d,_*=d),t[0]=m,t[1]=p,t[2]=_,t[3]=0,t[4]=l*_-f*p,t[5]=f*m-c*_,t[6]=c*p-l*m,t[7]=0,t[8]=c,t[9]=l,t[10]=f,t[11]=0,t[12]=a,t[13]=i,t[14]=s,t[15]=1,t},e.str=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},e.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))},e.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t[8]=e[8]+r[8],t[9]=e[9]+r[9],t[10]=e[10]+r[10],t[11]=e[11]+r[11],t[12]=e[12]+r[12],t[13]=e[13]+r[13],t[14]=e[14]+r[14],t[15]=e[15]+r[15],t},e.subtract=o,e.multiplyScalar=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*r,t[9]=e[9]*r,t[10]=e[10]*r,t[11]=e[11]*r,t[12]=e[12]*r,t[13]=e[13]*r,t[14]=e[14]*r,t[15]=e[15]*r,t},e.multiplyScalarAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t[4]=e[4]+r[4]*n,t[5]=e[5]+r[5]*n,t[6]=e[6]+r[6]*n,t[7]=e[7]+r[7]*n,t[8]=e[8]+r[8]*n,t[9]=e[9]+r[9]*n,t[10]=e[10]+r[10]*n,t[11]=e[11]+r[11]*n,t[12]=e[12]+r[12]*n,t[13]=e[13]+r[13]*n,t[14]=e[14]+r[14]*n,t[15]=e[15]+r[15]*n,t},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]},e.equals=function(t,e){var r=t[0],a=t[1],i=t[2],s=t[3],o=t[4],u=t[5],h=t[6],c=t[7],l=t[8],f=t[9],d=t[10],m=t[11],p=t[12],_=t[13],M=t[14],v=t[15],y=e[0],g=e[1],P=e[2],b=e[3],T=e[4],O=e[5],S=e[6],A=e[7],w=e[8],E=e[9],I=e[10],N=e[11],L=e[12],R=e[13],x=e[14],q=e[15];return Math.abs(r-y)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(y))&&Math.abs(a-g)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(g))&&Math.abs(i-P)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(P))&&Math.abs(s-b)<=n.EPSILON*Math.max(1,Math.abs(s),Math.abs(b))&&Math.abs(o-T)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(T))&&Math.abs(u-O)<=n.EPSILON*Math.max(1,Math.abs(u),Math.abs(O))&&Math.abs(h-S)<=n.EPSILON*Math.max(1,Math.abs(h),Math.abs(S))&&Math.abs(c-A)<=n.EPSILON*Math.max(1,Math.abs(c),Math.abs(A))&&Math.abs(l-w)<=n.EPSILON*Math.max(1,Math.abs(l),Math.abs(w))&&Math.abs(f-E)<=n.EPSILON*Math.max(1,Math.abs(f),Math.abs(E))&&Math.abs(d-I)<=n.EPSILON*Math.max(1,Math.abs(d),Math.abs(I))&&Math.abs(m-N)<=n.EPSILON*Math.max(1,Math.abs(m),Math.abs(N))&&Math.abs(p-L)<=n.EPSILON*Math.max(1,Math.abs(p),Math.abs(L))&&Math.abs(_-R)<=n.EPSILON*Math.max(1,Math.abs(_),Math.abs(R))&&Math.abs(M-x)<=n.EPSILON*Math.max(1,Math.abs(M),Math.abs(x))&&Math.abs(v-q)<=n.EPSILON*Math.max(1,Math.abs(v),Math.abs(q))};var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(0));function a(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function i(t,e,r){var n=e[0],a=e[1],i=e[2],s=e[3],o=e[4],u=e[5],h=e[6],c=e[7],l=e[8],f=e[9],d=e[10],m=e[11],p=e[12],_=e[13],M=e[14],v=e[15],y=r[0],g=r[1],P=r[2],b=r[3];return t[0]=y*n+g*o+P*l+b*p,t[1]=y*a+g*u+P*f+b*_,t[2]=y*i+g*h+P*d+b*M,t[3]=y*s+g*c+P*m+b*v,y=r[4],g=r[5],P=r[6],b=r[7],t[4]=y*n+g*o+P*l+b*p,t[5]=y*a+g*u+P*f+b*_,t[6]=y*i+g*h+P*d+b*M,t[7]=y*s+g*c+P*m+b*v,y=r[8],g=r[9],P=r[10],b=r[11],t[8]=y*n+g*o+P*l+b*p,t[9]=y*a+g*u+P*f+b*_,t[10]=y*i+g*h+P*d+b*M,t[11]=y*s+g*c+P*m+b*v,y=r[12],g=r[13],P=r[14],b=r[15],t[12]=y*n+g*o+P*l+b*p,t[13]=y*a+g*u+P*f+b*_,t[14]=y*i+g*h+P*d+b*M,t[15]=y*s+g*c+P*m+b*v,t}function s(t,e,r){var n=e[0],a=e[1],i=e[2],s=e[3],o=n+n,u=a+a,h=i+i,c=n*o,l=n*u,f=n*h,d=a*u,m=a*h,p=i*h,_=s*o,M=s*u,v=s*h;return t[0]=1-(d+p),t[1]=l+v,t[2]=f-M,t[3]=0,t[4]=l-v,t[5]=1-(c+p),t[6]=m+_,t[7]=0,t[8]=f+M,t[9]=m-_,t[10]=1-(c+d),t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}function o(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t[6]=e[6]-r[6],t[7]=e[7]-r[7],t[8]=e[8]-r[8],t[9]=e[9]-r[9],t[10]=e[10]-r[10],t[11]=e[11]-r[11],t[12]=e[12]-r[12],t[13]=e[13]-r[13],t[14]=e[14]-r[14],t[15]=e[15]-r[15],t}e.mul=i,e.sub=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setAxes=e.sqlerp=e.rotationTo=e.equals=e.exactEquals=e.normalize=e.sqrLen=e.squaredLength=e.len=e.length=e.lerp=e.dot=e.scale=e.mul=e.add=e.set=e.copy=e.fromValues=e.clone=void 0,e.create=u,e.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},e.setAxisAngle=h,e.getAxisAngle=function(t,e){var r=2*Math.acos(e[3]),a=Math.sin(r/2);return a>n.EPSILON?(t[0]=e[0]/a,t[1]=e[1]/a,t[2]=e[2]/a):(t[0]=1,t[1]=0,t[2]=0),r},e.multiply=c,e.rotateX=function(t,e,r){r*=.5;var n=e[0],a=e[1],i=e[2],s=e[3],o=Math.sin(r),u=Math.cos(r);return t[0]=n*u+s*o,t[1]=a*u+i*o,t[2]=i*u-a*o,t[3]=s*u-n*o,t},e.rotateY=function(t,e,r){r*=.5;var n=e[0],a=e[1],i=e[2],s=e[3],o=Math.sin(r),u=Math.cos(r);return t[0]=n*u-i*o,t[1]=a*u+s*o,t[2]=i*u+n*o,t[3]=s*u-a*o,t},e.rotateZ=function(t,e,r){r*=.5;var n=e[0],a=e[1],i=e[2],s=e[3],o=Math.sin(r),u=Math.cos(r);return t[0]=n*u+a*o,t[1]=a*u-n*o,t[2]=i*u+s*o,t[3]=s*u-i*o,t},e.calculateW=function(t,e){var r=e[0],n=e[1],a=e[2];return t[0]=r,t[1]=n,t[2]=a,t[3]=Math.sqrt(Math.abs(1-r*r-n*n-a*a)),t},e.slerp=l,e.random=function(t){var e=n.RANDOM(),r=n.RANDOM(),a=n.RANDOM(),i=Math.sqrt(1-e),s=Math.sqrt(e);return t[0]=i*Math.sin(2*Math.PI*r),t[1]=i*Math.cos(2*Math.PI*r),t[2]=s*Math.sin(2*Math.PI*a),t[3]=s*Math.cos(2*Math.PI*a),t},e.invert=function(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],s=r*r+n*n+a*a+i*i,o=s?1/s:0;return t[0]=-r*o,t[1]=-n*o,t[2]=-a*o,t[3]=i*o,t},e.conjugate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t},e.fromMat3=f,e.fromEuler=function(t,e,r,n){var a=.5*Math.PI/180;e*=a,r*=a,n*=a;var i=Math.sin(e),s=Math.cos(e),o=Math.sin(r),u=Math.cos(r),h=Math.sin(n),c=Math.cos(n);return t[0]=i*u*c-s*o*h,t[1]=s*o*c+i*u*h,t[2]=s*u*h-i*o*c,t[3]=s*u*c+i*o*h,t},e.str=function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"};var n=o(r(0)),a=o(r(1)),i=o(r(4)),s=o(r(5));function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function u(){var t=new n.ARRAY_TYPE(4);return n.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function h(t,e,r){r*=.5;var n=Math.sin(r);return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=Math.cos(r),t}function c(t,e,r){var n=e[0],a=e[1],i=e[2],s=e[3],o=r[0],u=r[1],h=r[2],c=r[3];return t[0]=n*c+s*o+a*h-i*u,t[1]=a*c+s*u+i*o-n*h,t[2]=i*c+s*h+n*u-a*o,t[3]=s*c-n*o-a*u-i*h,t}function l(t,e,r,a){var i=e[0],s=e[1],o=e[2],u=e[3],h=r[0],c=r[1],l=r[2],f=r[3],d=void 0,m=void 0,p=void 0,_=void 0,M=void 0;return(m=i*h+s*c+o*l+u*f)<0&&(m=-m,h=-h,c=-c,l=-l,f=-f),1-m>n.EPSILON?(d=Math.acos(m),p=Math.sin(d),_=Math.sin((1-a)*d)/p,M=Math.sin(a*d)/p):(_=1-a,M=a),t[0]=_*i+M*h,t[1]=_*s+M*c,t[2]=_*o+M*l,t[3]=_*u+M*f,t}function f(t,e){var r=e[0]+e[4]+e[8],n=void 0;if(r>0)n=Math.sqrt(r+1),t[3]=.5*n,n=.5/n,t[0]=(e[5]-e[7])*n,t[1]=(e[6]-e[2])*n,t[2]=(e[1]-e[3])*n;else{var a=0;e[4]>e[0]&&(a=1),e[8]>e[3*a+a]&&(a=2);var i=(a+1)%3,s=(a+2)%3;n=Math.sqrt(e[3*a+a]-e[3*i+i]-e[3*s+s]+1),t[a]=.5*n,n=.5/n,t[3]=(e[3*i+s]-e[3*s+i])*n,t[i]=(e[3*i+a]+e[3*a+i])*n,t[s]=(e[3*s+a]+e[3*a+s])*n}return t}e.clone=s.clone,e.fromValues=s.fromValues,e.copy=s.copy,e.set=s.set,e.add=s.add,e.mul=c,e.scale=s.scale,e.dot=s.dot,e.lerp=s.lerp;var d=e.length=s.length,m=(e.len=d,e.squaredLength=s.squaredLength),p=(e.sqrLen=m,e.normalize=s.normalize);e.exactEquals=s.exactEquals,e.equals=s.equals,e.rotationTo=function(){var t=i.create(),e=i.fromValues(1,0,0),r=i.fromValues(0,1,0);return function(n,a,s){var o=i.dot(a,s);return o<-.999999?(i.cross(t,e,a),i.len(t)<1e-6&&i.cross(t,r,a),i.normalize(t,t),h(n,t,Math.PI),n):o>.999999?(n[0]=0,n[1]=0,n[2]=0,n[3]=1,n):(i.cross(t,a,s),n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=1+o,p(n,n))}}(),e.sqlerp=function(){var t=u(),e=u();return function(r,n,a,i,s,o){return l(t,n,s,o),l(e,a,i,o),l(r,t,e,2*o*(1-o)),r}}(),e.setAxes=function(){var t=a.create();return function(e,r,n,a){return t[0]=n[0],t[3]=n[1],t[6]=n[2],t[1]=a[0],t[4]=a[1],t[7]=a[2],t[2]=-r[0],t[5]=-r[1],t[8]=-r[2],p(e,f(e,t))}}()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.forEach=e.sqrLen=e.len=e.sqrDist=e.dist=e.div=e.mul=e.sub=void 0,e.create=a,e.clone=function(t){var e=new n.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},e.length=i,e.fromValues=s,e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},e.set=function(t,e,r,n){return t[0]=e,t[1]=r,t[2]=n,t},e.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t},e.subtract=o,e.multiply=u,e.divide=h,e.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t},e.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t},e.min=function(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t},e.max=function(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t},e.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t},e.scale=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t},e.scaleAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t},e.distance=c,e.squaredDistance=l,e.squaredLength=f,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},e.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},e.normalize=d,e.dot=m,e.cross=function(t,e,r){var n=e[0],a=e[1],i=e[2],s=r[0],o=r[1],u=r[2];return t[0]=a*u-i*o,t[1]=i*s-n*u,t[2]=n*o-a*s,t},e.lerp=function(t,e,r,n){var a=e[0],i=e[1],s=e[2];return t[0]=a+n*(r[0]-a),t[1]=i+n*(r[1]-i),t[2]=s+n*(r[2]-s),t},e.hermite=function(t,e,r,n,a,i){var s=i*i,o=s*(2*i-3)+1,u=s*(i-2)+i,h=s*(i-1),c=s*(3-2*i);return t[0]=e[0]*o+r[0]*u+n[0]*h+a[0]*c,t[1]=e[1]*o+r[1]*u+n[1]*h+a[1]*c,t[2]=e[2]*o+r[2]*u+n[2]*h+a[2]*c,t},e.bezier=function(t,e,r,n,a,i){var s=1-i,o=s*s,u=i*i,h=o*s,c=3*i*o,l=3*u*s,f=u*i;return t[0]=e[0]*h+r[0]*c+n[0]*l+a[0]*f,t[1]=e[1]*h+r[1]*c+n[1]*l+a[1]*f,t[2]=e[2]*h+r[2]*c+n[2]*l+a[2]*f,t},e.random=function(t,e){e=e||1;var r=2*n.RANDOM()*Math.PI,a=2*n.RANDOM()-1,i=Math.sqrt(1-a*a)*e;return t[0]=Math.cos(r)*i,t[1]=Math.sin(r)*i,t[2]=a*e,t},e.transformMat4=function(t,e,r){var n=e[0],a=e[1],i=e[2],s=r[3]*n+r[7]*a+r[11]*i+r[15];return s=s||1,t[0]=(r[0]*n+r[4]*a+r[8]*i+r[12])/s,t[1]=(r[1]*n+r[5]*a+r[9]*i+r[13])/s,t[2]=(r[2]*n+r[6]*a+r[10]*i+r[14])/s,t},e.transformMat3=function(t,e,r){var n=e[0],a=e[1],i=e[2];return t[0]=n*r[0]+a*r[3]+i*r[6],t[1]=n*r[1]+a*r[4]+i*r[7],t[2]=n*r[2]+a*r[5]+i*r[8],t},e.transformQuat=function(t,e,r){var n=r[0],a=r[1],i=r[2],s=r[3],o=e[0],u=e[1],h=e[2],c=a*h-i*u,l=i*o-n*h,f=n*u-a*o,d=a*f-i*l,m=i*c-n*f,p=n*l-a*c,_=2*s;return c*=_,l*=_,f*=_,d*=2,m*=2,p*=2,t[0]=o+c+d,t[1]=u+l+m,t[2]=h+f+p,t},e.rotateX=function(t,e,r,n){var a=[],i=[];return a[0]=e[0]-r[0],a[1]=e[1]-r[1],a[2]=e[2]-r[2],i[0]=a[0],i[1]=a[1]*Math.cos(n)-a[2]*Math.sin(n),i[2]=a[1]*Math.sin(n)+a[2]*Math.cos(n),t[0]=i[0]+r[0],t[1]=i[1]+r[1],t[2]=i[2]+r[2],t},e.rotateY=function(t,e,r,n){var a=[],i=[];return a[0]=e[0]-r[0],a[1]=e[1]-r[1],a[2]=e[2]-r[2],i[0]=a[2]*Math.sin(n)+a[0]*Math.cos(n),i[1]=a[1],i[2]=a[2]*Math.cos(n)-a[0]*Math.sin(n),t[0]=i[0]+r[0],t[1]=i[1]+r[1],t[2]=i[2]+r[2],t},e.rotateZ=function(t,e,r,n){var a=[],i=[];return a[0]=e[0]-r[0],a[1]=e[1]-r[1],a[2]=e[2]-r[2],i[0]=a[0]*Math.cos(n)-a[1]*Math.sin(n),i[1]=a[0]*Math.sin(n)+a[1]*Math.cos(n),i[2]=a[2],t[0]=i[0]+r[0],t[1]=i[1]+r[1],t[2]=i[2]+r[2],t},e.angle=function(t,e){var r=s(t[0],t[1],t[2]),n=s(e[0],e[1],e[2]);d(r,r),d(n,n);var a=m(r,n);return a>1?0:a<-1?Math.PI:Math.acos(a)},e.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},e.equals=function(t,e){var r=t[0],a=t[1],i=t[2],s=e[0],o=e[1],u=e[2];return Math.abs(r-s)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(a-o)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(o))&&Math.abs(i-u)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(u))};var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(0));function a(){var t=new n.ARRAY_TYPE(3);return n.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function i(t){var e=t[0],r=t[1],n=t[2];return Math.sqrt(e*e+r*r+n*n)}function s(t,e,r){var a=new n.ARRAY_TYPE(3);return a[0]=t,a[1]=e,a[2]=r,a}function o(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t}function u(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t}function h(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t}function c(t,e){var r=e[0]-t[0],n=e[1]-t[1],a=e[2]-t[2];return Math.sqrt(r*r+n*n+a*a)}function l(t,e){var r=e[0]-t[0],n=e[1]-t[1],a=e[2]-t[2];return r*r+n*n+a*a}function f(t){var e=t[0],r=t[1],n=t[2];return e*e+r*r+n*n}function d(t,e){var r=e[0],n=e[1],a=e[2],i=r*r+n*n+a*a;return i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i),t}function m(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}e.sub=o,e.mul=u,e.div=h,e.dist=c,e.sqrDist=l,e.len=i,e.sqrLen=f,e.forEach=function(){var t=a();return function(e,r,n,a,i,s){var o,u=void 0;for(r||(r=3),n||(n=0),o=a?Math.min(a*r+n,e.length):e.length,u=n;u<o;u+=r)t[0]=e[u],t[1]=e[u+1],t[2]=e[u+2],i(t,t,s),e[u]=t[0],e[u+1]=t[1],e[u+2]=t[2];return e}}()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.forEach=e.sqrLen=e.len=e.sqrDist=e.dist=e.div=e.mul=e.sub=void 0,e.create=a,e.clone=function(t){var e=new n.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},e.fromValues=function(t,e,r,a){var i=new n.ARRAY_TYPE(4);return i[0]=t,i[1]=e,i[2]=r,i[3]=a,i},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},e.set=function(t,e,r,n,a){return t[0]=e,t[1]=r,t[2]=n,t[3]=a,t},e.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t},e.subtract=i,e.multiply=s,e.divide=o,e.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t},e.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t},e.min=function(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t[3]=Math.min(e[3],r[3]),t},e.max=function(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t[3]=Math.max(e[3],r[3]),t},e.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t},e.scale=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t},e.scaleAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t},e.distance=u,e.squaredDistance=h,e.length=c,e.squaredLength=l,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t},e.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t},e.normalize=function(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],s=r*r+n*n+a*a+i*i;return s>0&&(s=1/Math.sqrt(s),t[0]=r*s,t[1]=n*s,t[2]=a*s,t[3]=i*s),t},e.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},e.lerp=function(t,e,r,n){var a=e[0],i=e[1],s=e[2],o=e[3];return t[0]=a+n*(r[0]-a),t[1]=i+n*(r[1]-i),t[2]=s+n*(r[2]-s),t[3]=o+n*(r[3]-o),t},e.random=function(t,e){var r,a,i,s,o,u;e=e||1;do{o=(r=2*n.RANDOM()-1)*r+(a=2*n.RANDOM()-1)*a}while(o>=1);do{u=(i=2*n.RANDOM()-1)*i+(s=2*n.RANDOM()-1)*s}while(u>=1);var h=Math.sqrt((1-o)/u);return t[0]=e*r,t[1]=e*a,t[2]=e*i*h,t[3]=e*s*h,t},e.transformMat4=function(t,e,r){var n=e[0],a=e[1],i=e[2],s=e[3];return t[0]=r[0]*n+r[4]*a+r[8]*i+r[12]*s,t[1]=r[1]*n+r[5]*a+r[9]*i+r[13]*s,t[2]=r[2]*n+r[6]*a+r[10]*i+r[14]*s,t[3]=r[3]*n+r[7]*a+r[11]*i+r[15]*s,t},e.transformQuat=function(t,e,r){var n=e[0],a=e[1],i=e[2],s=r[0],o=r[1],u=r[2],h=r[3],c=h*n+o*i-u*a,l=h*a+u*n-s*i,f=h*i+s*a-o*n,d=-s*n-o*a-u*i;return t[0]=c*h+d*-s+l*-u-f*-o,t[1]=l*h+d*-o+f*-s-c*-u,t[2]=f*h+d*-u+c*-o-l*-s,t[3]=e[3],t},e.str=function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},e.equals=function(t,e){var r=t[0],a=t[1],i=t[2],s=t[3],o=e[0],u=e[1],h=e[2],c=e[3];return Math.abs(r-o)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(a-u)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(u))&&Math.abs(i-h)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(s-c)<=n.EPSILON*Math.max(1,Math.abs(s),Math.abs(c))};var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(0));function a(){var t=new n.ARRAY_TYPE(4);return n.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function i(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t}function s(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t[3]=e[3]*r[3],t}function o(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t[3]=e[3]/r[3],t}function u(t,e){var r=e[0]-t[0],n=e[1]-t[1],a=e[2]-t[2],i=e[3]-t[3];return Math.sqrt(r*r+n*n+a*a+i*i)}function h(t,e){var r=e[0]-t[0],n=e[1]-t[1],a=e[2]-t[2],i=e[3]-t[3];return r*r+n*n+a*a+i*i}function c(t){var e=t[0],r=t[1],n=t[2],a=t[3];return Math.sqrt(e*e+r*r+n*n+a*a)}function l(t){var e=t[0],r=t[1],n=t[2],a=t[3];return e*e+r*r+n*n+a*a}e.sub=i,e.mul=s,e.div=o,e.dist=u,e.sqrDist=h,e.len=c,e.sqrLen=l,e.forEach=function(){var t=a();return function(e,r,n,a,i,s){var o,u=void 0;for(r||(r=4),n||(n=0),o=a?Math.min(a*r+n,e.length):e.length,u=n;u<o;u+=r)t[0]=e[u],t[1]=e[u+1],t[2]=e[u+2],t[3]=e[u+3],i(t,t,s),e[u]=t[0],e[u+1]=t[1],e[u+2]=t[2],e[u+3]=t[3];return e}}()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.vec4=e.vec3=e.vec2=e.quat2=e.quat=e.mat4=e.mat3=e.mat2d=e.mat2=e.glMatrix=void 0;var n=d(r(0)),a=d(r(7)),i=d(r(8)),s=d(r(1)),o=d(r(2)),u=d(r(3)),h=d(r(9)),c=d(r(10)),l=d(r(4)),f=d(r(5));function d(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}e.glMatrix=n,e.mat2=a,e.mat2d=i,e.mat3=s,e.mat4=o,e.quat=u,e.quat2=h,e.vec2=c,e.vec3=l,e.vec4=f},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sub=e.mul=void 0,e.create=function(){var t=new n.ARRAY_TYPE(4);return n.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t},e.clone=function(t){var e=new n.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},e.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},e.fromValues=function(t,e,r,a){var i=new n.ARRAY_TYPE(4);return i[0]=t,i[1]=e,i[2]=r,i[3]=a,i},e.set=function(t,e,r,n,a){return t[0]=e,t[1]=r,t[2]=n,t[3]=a,t},e.transpose=function(t,e){if(t===e){var r=e[1];t[1]=e[2],t[2]=r}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t},e.invert=function(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],s=r*i-a*n;return s?(s=1/s,t[0]=i*s,t[1]=-n*s,t[2]=-a*s,t[3]=r*s,t):null},e.adjoint=function(t,e){var r=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=r,t},e.determinant=function(t){return t[0]*t[3]-t[2]*t[1]},e.multiply=a,e.rotate=function(t,e,r){var n=e[0],a=e[1],i=e[2],s=e[3],o=Math.sin(r),u=Math.cos(r);return t[0]=n*u+i*o,t[1]=a*u+s*o,t[2]=n*-o+i*u,t[3]=a*-o+s*u,t},e.scale=function(t,e,r){var n=e[0],a=e[1],i=e[2],s=e[3],o=r[0],u=r[1];return t[0]=n*o,t[1]=a*o,t[2]=i*u,t[3]=s*u,t},e.fromRotation=function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=-r,t[3]=n,t},e.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t},e.str=function(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},e.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))},e.LDU=function(t,e,r,n){return t[2]=n[2]/n[0],r[0]=n[0],r[1]=n[1],r[3]=n[3]-t[2]*r[1],[t,e,r]},e.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t},e.subtract=i,e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},e.equals=function(t,e){var r=t[0],a=t[1],i=t[2],s=t[3],o=e[0],u=e[1],h=e[2],c=e[3];return Math.abs(r-o)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(a-u)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(u))&&Math.abs(i-h)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(s-c)<=n.EPSILON*Math.max(1,Math.abs(s),Math.abs(c))},e.multiplyScalar=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t},e.multiplyScalarAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t};var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(0));function a(t,e,r){var n=e[0],a=e[1],i=e[2],s=e[3],o=r[0],u=r[1],h=r[2],c=r[3];return t[0]=n*o+i*u,t[1]=a*o+s*u,t[2]=n*h+i*c,t[3]=a*h+s*c,t}function i(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t}e.mul=a,e.sub=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sub=e.mul=void 0,e.create=function(){var t=new n.ARRAY_TYPE(6);return n.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[4]=0,t[5]=0),t[0]=1,t[3]=1,t},e.clone=function(t){var e=new n.ARRAY_TYPE(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},e.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},e.fromValues=function(t,e,r,a,i,s){var o=new n.ARRAY_TYPE(6);return o[0]=t,o[1]=e,o[2]=r,o[3]=a,o[4]=i,o[5]=s,o},e.set=function(t,e,r,n,a,i,s){return t[0]=e,t[1]=r,t[2]=n,t[3]=a,t[4]=i,t[5]=s,t},e.invert=function(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],s=e[4],o=e[5],u=r*i-n*a;return u?(u=1/u,t[0]=i*u,t[1]=-n*u,t[2]=-a*u,t[3]=r*u,t[4]=(a*o-i*s)*u,t[5]=(n*s-r*o)*u,t):null},e.determinant=function(t){return t[0]*t[3]-t[1]*t[2]},e.multiply=a,e.rotate=function(t,e,r){var n=e[0],a=e[1],i=e[2],s=e[3],o=e[4],u=e[5],h=Math.sin(r),c=Math.cos(r);return t[0]=n*c+i*h,t[1]=a*c+s*h,t[2]=n*-h+i*c,t[3]=a*-h+s*c,t[4]=o,t[5]=u,t},e.scale=function(t,e,r){var n=e[0],a=e[1],i=e[2],s=e[3],o=e[4],u=e[5],h=r[0],c=r[1];return t[0]=n*h,t[1]=a*h,t[2]=i*c,t[3]=s*c,t[4]=o,t[5]=u,t},e.translate=function(t,e,r){var n=e[0],a=e[1],i=e[2],s=e[3],o=e[4],u=e[5],h=r[0],c=r[1];return t[0]=n,t[1]=a,t[2]=i,t[3]=s,t[4]=n*h+i*c+o,t[5]=a*h+s*c+u,t},e.fromRotation=function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=-r,t[3]=n,t[4]=0,t[5]=0,t},e.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t},e.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t},e.str=function(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"},e.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)},e.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t},e.subtract=i,e.multiplyScalar=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t},e.multiplyScalarAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t[4]=e[4]+r[4]*n,t[5]=e[5]+r[5]*n,t},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]},e.equals=function(t,e){var r=t[0],a=t[1],i=t[2],s=t[3],o=t[4],u=t[5],h=e[0],c=e[1],l=e[2],f=e[3],d=e[4],m=e[5];return Math.abs(r-h)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(h))&&Math.abs(a-c)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(c))&&Math.abs(i-l)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(s-f)<=n.EPSILON*Math.max(1,Math.abs(s),Math.abs(f))&&Math.abs(o-d)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(u-m)<=n.EPSILON*Math.max(1,Math.abs(u),Math.abs(m))},e.getScaling=function(t,e){var r=e[0],n=e[1];return t[0]=Math.sign(r)*Math.sqrt(r*r+n*n),r=e[2],n=e[3],t[1]=Math.sign(n)*Math.sqrt(r*r+n*n),t},e.decompose=function(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],s=r*i-a*n,o=Math.sqrt(r*r+n*n),u=Math.sqrt(a*a+i*i);return s<0&&(o=-o),t[0]=o,t[1]=u,Math.atan2(n/o,r/o)},e.getTranslation=function(t,e){return t[0]=e[4],t[1]=e[5],t},e.getRotation=function(t){return Math.atan2(t[1],t[0])},e.log=function(t){var e=vec2.create(),r=mat2d.decompose(e,t),n=mat2d.getTranslation(vec2.create(),t);console.log("mat2d",n,r/Math.PI*180,e)};var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(0));function a(t,e,r){var n=e[0],a=e[1],i=e[2],s=e[3],o=e[4],u=e[5],h=r[0],c=r[1],l=r[2],f=r[3],d=r[4],m=r[5];return t[0]=n*h+i*c,t[1]=a*h+s*c,t[2]=n*l+i*f,t[3]=a*l+s*f,t[4]=n*d+i*m+o,t[5]=a*d+s*m+u,t}function i(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t}e.mul=a,e.sub=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sqrLen=e.squaredLength=e.len=e.length=e.dot=e.mul=e.setReal=e.getReal=void 0,e.create=function(){var t=new n.ARRAY_TYPE(8);return n.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0),t[3]=1,t},e.clone=function(t){var e=new n.ARRAY_TYPE(8);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e},e.fromValues=function(t,e,r,a,i,s,o,u){var h=new n.ARRAY_TYPE(8);return h[0]=t,h[1]=e,h[2]=r,h[3]=a,h[4]=i,h[5]=s,h[6]=o,h[7]=u,h},e.fromRotationTranslationValues=function(t,e,r,a,i,s,o){var u=new n.ARRAY_TYPE(8);u[0]=t,u[1]=e,u[2]=r,u[3]=a;var h=.5*i,c=.5*s,l=.5*o;return u[4]=h*a+c*r-l*e,u[5]=c*a+l*t-h*r,u[6]=l*a+h*e-c*t,u[7]=-h*t-c*e-l*r,u},e.fromRotationTranslation=o,e.fromTranslation=function(t,e){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=.5*e[0],t[5]=.5*e[1],t[6]=.5*e[2],t[7]=0,t},e.fromRotation=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=0,t[5]=0,t[6]=0,t[7]=0,t},e.fromMat4=function(t,e){var r=a.create();i.getRotation(r,e);var s=new n.ARRAY_TYPE(3);return i.getTranslation(s,e),o(t,r,s),t},e.copy=u,e.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t},e.set=function(t,e,r,n,a,i,s,o,u){return t[0]=e,t[1]=r,t[2]=n,t[3]=a,t[4]=i,t[5]=s,t[6]=o,t[7]=u,t},e.getDual=function(t,e){return t[0]=e[4],t[1]=e[5],t[2]=e[6],t[3]=e[7],t},e.setDual=function(t,e){return t[4]=e[0],t[5]=e[1],t[6]=e[2],t[7]=e[3],t},e.getTranslation=function(t,e){var r=e[4],n=e[5],a=e[6],i=e[7],s=-e[0],o=-e[1],u=-e[2],h=e[3];return t[0]=2*(r*h+i*s+n*u-a*o),t[1]=2*(n*h+i*o+a*s-r*u),t[2]=2*(a*h+i*u+r*o-n*s),t},e.translate=function(t,e,r){var n=e[0],a=e[1],i=e[2],s=e[3],o=.5*r[0],u=.5*r[1],h=.5*r[2],c=e[4],l=e[5],f=e[6],d=e[7];return t[0]=n,t[1]=a,t[2]=i,t[3]=s,t[4]=s*o+a*h-i*u+c,t[5]=s*u+i*o-n*h+l,t[6]=s*h+n*u-a*o+f,t[7]=-n*o-a*u-i*h+d,t},e.rotateX=function(t,e,r){var n=-e[0],i=-e[1],s=-e[2],o=e[3],u=e[4],h=e[5],c=e[6],l=e[7],f=u*o+l*n+h*s-c*i,d=h*o+l*i+c*n-u*s,m=c*o+l*s+u*i-h*n,p=l*o-u*n-h*i-c*s;return a.rotateX(t,e,r),n=t[0],i=t[1],s=t[2],o=t[3],t[4]=f*o+p*n+d*s-m*i,t[5]=d*o+p*i+m*n-f*s,t[6]=m*o+p*s+f*i-d*n,t[7]=p*o-f*n-d*i-m*s,t},e.rotateY=function(t,e,r){var n=-e[0],i=-e[1],s=-e[2],o=e[3],u=e[4],h=e[5],c=e[6],l=e[7],f=u*o+l*n+h*s-c*i,d=h*o+l*i+c*n-u*s,m=c*o+l*s+u*i-h*n,p=l*o-u*n-h*i-c*s;return a.rotateY(t,e,r),n=t[0],i=t[1],s=t[2],o=t[3],t[4]=f*o+p*n+d*s-m*i,t[5]=d*o+p*i+m*n-f*s,t[6]=m*o+p*s+f*i-d*n,t[7]=p*o-f*n-d*i-m*s,t},e.rotateZ=function(t,e,r){var n=-e[0],i=-e[1],s=-e[2],o=e[3],u=e[4],h=e[5],c=e[6],l=e[7],f=u*o+l*n+h*s-c*i,d=h*o+l*i+c*n-u*s,m=c*o+l*s+u*i-h*n,p=l*o-u*n-h*i-c*s;return a.rotateZ(t,e,r),n=t[0],i=t[1],s=t[2],o=t[3],t[4]=f*o+p*n+d*s-m*i,t[5]=d*o+p*i+m*n-f*s,t[6]=m*o+p*s+f*i-d*n,t[7]=p*o-f*n-d*i-m*s,t},e.rotateByQuatAppend=function(t,e,r){var n=r[0],a=r[1],i=r[2],s=r[3],o=e[0],u=e[1],h=e[2],c=e[3];return t[0]=o*s+c*n+u*i-h*a,t[1]=u*s+c*a+h*n-o*i,t[2]=h*s+c*i+o*a-u*n,t[3]=c*s-o*n-u*a-h*i,o=e[4],u=e[5],h=e[6],c=e[7],t[4]=o*s+c*n+u*i-h*a,t[5]=u*s+c*a+h*n-o*i,t[6]=h*s+c*i+o*a-u*n,t[7]=c*s-o*n-u*a-h*i,t},e.rotateByQuatPrepend=function(t,e,r){var n=e[0],a=e[1],i=e[2],s=e[3],o=r[0],u=r[1],h=r[2],c=r[3];return t[0]=n*c+s*o+a*h-i*u,t[1]=a*c+s*u+i*o-n*h,t[2]=i*c+s*h+n*u-a*o,t[3]=s*c-n*o-a*u-i*h,o=r[4],u=r[5],h=r[6],c=r[7],t[4]=n*c+s*o+a*h-i*u,t[5]=a*c+s*u+i*o-n*h,t[6]=i*c+s*h+n*u-a*o,t[7]=s*c-n*o-a*u-i*h,t},e.rotateAroundAxis=function(t,e,r,a){if(Math.abs(a)<n.EPSILON)return u(t,e);var i=Math.sqrt(r[0]*r[0]+r[1]*r[1]+r[2]*r[2]);a*=.5;var s=Math.sin(a),o=s*r[0]/i,h=s*r[1]/i,c=s*r[2]/i,l=Math.cos(a),f=e[0],d=e[1],m=e[2],p=e[3];t[0]=f*l+p*o+d*c-m*h,t[1]=d*l+p*h+m*o-f*c,t[2]=m*l+p*c+f*h-d*o,t[3]=p*l-f*o-d*h-m*c;var _=e[4],M=e[5],v=e[6],y=e[7];return t[4]=_*l+y*o+M*c-v*h,t[5]=M*l+y*h+v*o-_*c,t[6]=v*l+y*c+_*h-M*o,t[7]=y*l-_*o-M*h-v*c,t},e.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t},e.multiply=h,e.scale=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t},e.lerp=function(t,e,r,n){var a=1-n;return c(e,r)<0&&(n=-n),t[0]=e[0]*a+r[0]*n,t[1]=e[1]*a+r[1]*n,t[2]=e[2]*a+r[2]*n,t[3]=e[3]*a+r[3]*n,t[4]=e[4]*a+r[4]*n,t[5]=e[5]*a+r[5]*n,t[6]=e[6]*a+r[6]*n,t[7]=e[7]*a+r[7]*n,t},e.invert=function(t,e){var r=f(e);return t[0]=-e[0]/r,t[1]=-e[1]/r,t[2]=-e[2]/r,t[3]=e[3]/r,t[4]=-e[4]/r,t[5]=-e[5]/r,t[6]=-e[6]/r,t[7]=e[7]/r,t},e.conjugate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t[4]=-e[4],t[5]=-e[5],t[6]=-e[6],t[7]=e[7],t},e.normalize=function(t,e){var r=f(e);if(r>0){r=Math.sqrt(r);var n=e[0]/r,a=e[1]/r,i=e[2]/r,s=e[3]/r,o=e[4],u=e[5],h=e[6],c=e[7],l=n*o+a*u+i*h+s*c;t[0]=n,t[1]=a,t[2]=i,t[3]=s,t[4]=(o-n*l)/r,t[5]=(u-a*l)/r,t[6]=(h-i*l)/r,t[7]=(c-s*l)/r}return t},e.str=function(t){return"quat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+")"},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]},e.equals=function(t,e){var r=t[0],a=t[1],i=t[2],s=t[3],o=t[4],u=t[5],h=t[6],c=t[7],l=e[0],f=e[1],d=e[2],m=e[3],p=e[4],_=e[5],M=e[6],v=e[7];return Math.abs(r-l)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(a-f)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(f))&&Math.abs(i-d)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(s-m)<=n.EPSILON*Math.max(1,Math.abs(s),Math.abs(m))&&Math.abs(o-p)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(u-_)<=n.EPSILON*Math.max(1,Math.abs(u),Math.abs(_))&&Math.abs(h-M)<=n.EPSILON*Math.max(1,Math.abs(h),Math.abs(M))&&Math.abs(c-v)<=n.EPSILON*Math.max(1,Math.abs(c),Math.abs(v))};var n=s(r(0)),a=s(r(3)),i=s(r(2));function s(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function o(t,e,r){var n=.5*r[0],a=.5*r[1],i=.5*r[2],s=e[0],o=e[1],u=e[2],h=e[3];return t[0]=s,t[1]=o,t[2]=u,t[3]=h,t[4]=n*h+a*u-i*o,t[5]=a*h+i*s-n*u,t[6]=i*h+n*o-a*s,t[7]=-n*s-a*o-i*u,t}function u(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t}function h(t,e,r){var n=e[0],a=e[1],i=e[2],s=e[3],o=r[4],u=r[5],h=r[6],c=r[7],l=e[4],f=e[5],d=e[6],m=e[7],p=r[0],_=r[1],M=r[2],v=r[3];return t[0]=n*v+s*p+a*M-i*_,t[1]=a*v+s*_+i*p-n*M,t[2]=i*v+s*M+n*_-a*p,t[3]=s*v-n*p-a*_-i*M,t[4]=n*c+s*o+a*h-i*u+l*v+m*p+f*M-d*_,t[5]=a*c+s*u+i*o-n*h+f*v+m*_+d*p-l*M,t[6]=i*c+s*h+n*u-a*o+d*v+m*M+l*_-f*p,t[7]=s*c-n*o-a*u-i*h+m*v-l*p-f*_-d*M,t}e.getReal=a.copy,e.setReal=a.copy,e.mul=h;var c=e.dot=a.dot,l=e.length=a.length,f=(e.len=l,e.squaredLength=a.squaredLength);e.sqrLen=f},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.forEach=e.sqrLen=e.sqrDist=e.dist=e.div=e.mul=e.sub=e.len=void 0,e.create=a,e.clone=function(t){var e=new n.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e},e.fromValues=function(t,e){var r=new n.ARRAY_TYPE(2);return r[0]=t,r[1]=e,r},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},e.set=function(t,e,r){return t[0]=e,t[1]=r,t},e.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t},e.subtract=i,e.multiply=s,e.divide=o,e.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t},e.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t},e.min=function(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t},e.max=function(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t},e.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t},e.scale=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t},e.scaleAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t},e.distance=u,e.squaredDistance=h,e.length=c,e.squaredLength=l,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},e.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t},e.normalize=function(t,e){var r=e[0],n=e[1],a=r*r+n*n;return a>0&&(a=1/Math.sqrt(a),t[0]=e[0]*a,t[1]=e[1]*a),t},e.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},e.cross=function(t,e,r){var n=e[0]*r[1]-e[1]*r[0];return t[0]=t[1]=0,t[2]=n,t},e.lerp=function(t,e,r,n){var a=e[0],i=e[1];return t[0]=a+n*(r[0]-a),t[1]=i+n*(r[1]-i),t},e.random=function(t,e){e=e||1;var r=2*n.RANDOM()*Math.PI;return t[0]=Math.cos(r)*e,t[1]=Math.sin(r)*e,t},e.transformMat2=function(t,e,r){var n=e[0],a=e[1];return t[0]=r[0]*n+r[2]*a,t[1]=r[1]*n+r[3]*a,t},e.transformMat2d=function(t,e,r){var n=e[0],a=e[1];return t[0]=r[0]*n+r[2]*a+r[4],t[1]=r[1]*n+r[3]*a+r[5],t},e.transformMat3=function(t,e,r){var n=e[0],a=e[1];return t[0]=r[0]*n+r[3]*a+r[6],t[1]=r[1]*n+r[4]*a+r[7],t},e.transformMat4=function(t,e,r){var n=e[0],a=e[1];return t[0]=r[0]*n+r[4]*a+r[12],t[1]=r[1]*n+r[5]*a+r[13],t},e.rotate=function(t,e,r,n){var a=e[0]-r[0],i=e[1]-r[1],s=Math.sin(n),o=Math.cos(n);return t[0]=a*o-i*s+r[0],t[1]=a*s+i*o+r[1],t},e.angle=function(t,e){var r=t[0],n=t[1],a=e[0],i=e[1],s=r*r+n*n;s>0&&(s=1/Math.sqrt(s));var o=a*a+i*i;o>0&&(o=1/Math.sqrt(o));var u=(r*a+n*i)*s*o;return u>1?0:u<-1?Math.PI:Math.acos(u)},e.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]},e.equals=function(t,e){var r=t[0],a=t[1],i=e[0],s=e[1];return Math.abs(r-i)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(i))&&Math.abs(a-s)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(s))},e.isEqual=function(t,e){return t[0]==e[0]&&t[1]==e[1]},e.toArray=function(t){return[t[0],t[1]]},e.getAngle=function(t){return Math.atan2(t[1],t[0])};var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(0));function a(){var t=new n.ARRAY_TYPE(2);return n.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0),t}function i(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t}function s(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t}function o(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t}function u(t,e){var r=e[0]-t[0],n=e[1]-t[1];return Math.sqrt(r*r+n*n)}function h(t,e){var r=e[0]-t[0],n=e[1]-t[1];return r*r+n*n}function c(t){var e=t[0],r=t[1];return Math.sqrt(e*e+r*r)}function l(t){var e=t[0],r=t[1];return e*e+r*r}e.len=c,e.sub=i,e.mul=s,e.div=o,e.dist=u,e.sqrDist=h,e.sqrLen=l,e.forEach=function(){var t=a();return function(e,r,n,a,i,s){var o,u=void 0;for(r||(r=2),n||(n=0),o=a?Math.min(a*r+n,e.length):e.length,u=n;u<o;u+=r)t[0]=e[u],t[1]=e[u+1],i(t,t,s),e[u]=t[0],e[u+1]=t[1];return e}}()}])},202:function(t,e,r){t.exports=r(203)},203:function(t,e,r){"use strict";var n,a=r(206),i=(n=a)&&n.__esModule?n:{default:n};r(12);addEventListener("message",(function(t){if(t.data){var e=t.data.name||"BodyMovin File",r=e.lastIndexOf(".");-1!==r&&(e=e.substring(0,r));var n=new FileReader;n.onload=function(t){var r=this.result;(new i.default).convert(r).then((function(t){console.log("RESULT",t);var r=t.artboards;if(1===r.children.length){var n=r.children[0];console.log("YES",n),n.name=e,postMessage({name:e,type:"bodymovin",generateNewId:!0,content:JSON.stringify(n)})}else console.warn("Imported file doesn't have exactly one artboard."),postMessage({type:null})})).catch((function(t){postMessage({type:null})}))},n.readAsText(t.data)}}))},206:function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return Fe}));var n={};r.r(n),r.d(n,"create",(function(){return o})),r.d(n,"clone",(function(){return u})),r.d(n,"fromValues",(function(){return h})),r.d(n,"copy",(function(){return c})),r.d(n,"set",(function(){return l})),r.d(n,"add",(function(){return f})),r.d(n,"subtract",(function(){return d})),r.d(n,"multiply",(function(){return m})),r.d(n,"divide",(function(){return p})),r.d(n,"ceil",(function(){return _})),r.d(n,"floor",(function(){return M})),r.d(n,"min",(function(){return v})),r.d(n,"max",(function(){return y})),r.d(n,"round",(function(){return g})),r.d(n,"scale",(function(){return P})),r.d(n,"scaleAndAdd",(function(){return b})),r.d(n,"distance",(function(){return T})),r.d(n,"squaredDistance",(function(){return O})),r.d(n,"length",(function(){return S})),r.d(n,"squaredLength",(function(){return A})),r.d(n,"negate",(function(){return w})),r.d(n,"inverse",(function(){return E})),r.d(n,"normalize",(function(){return I})),r.d(n,"dot",(function(){return N})),r.d(n,"cross",(function(){return L})),r.d(n,"lerp",(function(){return R})),r.d(n,"random",(function(){return x})),r.d(n,"transformMat2",(function(){return q})),r.d(n,"transformMat2d",(function(){return D})),r.d(n,"transformMat3",(function(){return z})),r.d(n,"transformMat4",(function(){return C})),r.d(n,"rotate",(function(){return Y})),r.d(n,"angle",(function(){return k})),r.d(n,"str",(function(){return V})),r.d(n,"exactEquals",(function(){return j})),r.d(n,"equals",(function(){return F})),r.d(n,"len",(function(){return W})),r.d(n,"sub",(function(){return H})),r.d(n,"mul",(function(){return X})),r.d(n,"div",(function(){return J})),r.d(n,"dist",(function(){return U})),r.d(n,"sqrDist",(function(){return Q})),r.d(n,"sqrLen",(function(){return B})),r.d(n,"forEach",(function(){return K}));class a{static string(t,e,r){return r||(r=e,e=null),r(void 0!==t?t.toString():e)}static boolean(t,e,r){return r||(r=e,e=null),r(!!t)}static number(t,e,r){return r||(r=e,e=null),Number.isFinite(t)?r(t):r(e)}static typeList(t,e,r){if(!(t instanceof Array))return r(null);const n=[];for(const r of t){const t=new e;t.deserialize(r)&&n.push(t)}return r(n)}static typesList(t,e,r,n=[]){if(!(t instanceof Array))return r(null);const a=[];for(const r of t){const t=r.ty,n=e[t];if(!n){console.warn("unhandled type",t);continue}const i=new n;i.deserialize(r)&&a.push(i)}return r(a)}static type(t,e,r){const n=new e;return n.deserialize(t)?r(n):r(null)}}var i="undefined"!=typeof Float32Array?Float32Array:Array,s=Math.random;Math.PI;function o(){var t=new i(2);return i!=Float32Array&&(t[0]=0,t[1]=0),t}function u(t){var e=new i(2);return e[0]=t[0],e[1]=t[1],e}function h(t,e){var r=new i(2);return r[0]=t,r[1]=e,r}function c(t,e){return t[0]=e[0],t[1]=e[1],t}function l(t,e,r){return t[0]=e,t[1]=r,t}function f(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t}function d(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t}function m(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t}function p(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t}function _(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}function M(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}function v(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t}function y(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t}function g(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}function P(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t}function b(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t}function T(t,e){var r=e[0]-t[0],n=e[1]-t[1];return Math.sqrt(r*r+n*n)}function O(t,e){var r=e[0]-t[0],n=e[1]-t[1];return r*r+n*n}function S(t){var e=t[0],r=t[1];return Math.sqrt(e*e+r*r)}function A(t){var e=t[0],r=t[1];return e*e+r*r}function w(t,e){return t[0]=-e[0],t[1]=-e[1],t}function E(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}function I(t,e){var r=e[0],n=e[1],a=r*r+n*n;return a>0&&(a=1/Math.sqrt(a),t[0]=e[0]*a,t[1]=e[1]*a),t}function N(t,e){return t[0]*e[0]+t[1]*e[1]}function L(t,e,r){var n=e[0]*r[1]-e[1]*r[0];return t[0]=t[1]=0,t[2]=n,t}function R(t,e,r,n){var a=e[0],i=e[1];return t[0]=a+n*(r[0]-a),t[1]=i+n*(r[1]-i),t}function x(t,e){e=e||1;var r=2*s()*Math.PI;return t[0]=Math.cos(r)*e,t[1]=Math.sin(r)*e,t}function q(t,e,r){var n=e[0],a=e[1];return t[0]=r[0]*n+r[2]*a,t[1]=r[1]*n+r[3]*a,t}function D(t,e,r){var n=e[0],a=e[1];return t[0]=r[0]*n+r[2]*a+r[4],t[1]=r[1]*n+r[3]*a+r[5],t}function z(t,e,r){var n=e[0],a=e[1];return t[0]=r[0]*n+r[3]*a+r[6],t[1]=r[1]*n+r[4]*a+r[7],t}function C(t,e,r){var n=e[0],a=e[1];return t[0]=r[0]*n+r[4]*a+r[12],t[1]=r[1]*n+r[5]*a+r[13],t}function Y(t,e,r,n){var a=e[0]-r[0],i=e[1]-r[1],s=Math.sin(n),o=Math.cos(n);return t[0]=a*o-i*s+r[0],t[1]=a*s+i*o+r[1],t}function k(t,e){var r=t[0],n=t[1],a=e[0],i=e[1],s=r*r+n*n;s>0&&(s=1/Math.sqrt(s));var o=a*a+i*i;o>0&&(o=1/Math.sqrt(o));var u=(r*a+n*i)*s*o;return u>1?0:u<-1?Math.PI:Math.acos(u)}function V(t){return"vec2("+t[0]+", "+t[1]+")"}function j(t,e){return t[0]===e[0]&&t[1]===e[1]}function F(t,e){var r=t[0],n=t[1],a=e[0],i=e[1];return Math.abs(r-a)<=1e-6*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(n-i)<=1e-6*Math.max(1,Math.abs(n),Math.abs(i))}var G,W=S,H=d,X=m,J=p,U=T,Q=O,B=A,K=(G=o(),function(t,e,r,n,a,i){var s=void 0,o=void 0;for(e||(e=2),r||(r=0),o=n?Math.min(n*e+r,t.length):t.length,s=r;s<o;s+=e)G[0]=t[s],G[1]=t[s+1],a(G,G,i),t[s]=G[0],t[s+1]=G[1];return t});class Z{constructor(){this._In=[n.fromValues(0,0),n.fromValues(0,0)],this._Out=[n.fromValues(1,1),n.fromValues(1,1)],this._Time=0,this._Property=null,this._InterpolationType=null}static deserializeType(t,e,r,n){if(!(e instanceof Object))return n(null);const a=new Z;return a.deserialize(t,e,r)?n(a):n(null)}setEasingValues(t,e){Array.isArray(e.x)?(t[0][0]=e.x[0],t[0][1]=e.y[0],t[1][0]=e.x[1],t[1][1]=e.y[1]):e.x&&(t[0][0]=e.x,t[0][1]=e.y,t[1][0]=e.x,t[1][1]=e.y)}deserialize(t,e,r){const n=e.i;n instanceof Object&&this.setEasingValues(this._In,n);const i=e.o;i instanceof Object&&this.setEasingValues(this._Out,i),a.number(e.t,t=>{this._Time=t}),a.number(e.h,t=>{this._InterpolationType=null===t?2:0});const s=e.s||t.e;if(s){let t=new r;if(t.deserialize(s))this._Property=t;else if(s instanceof Array&&1===s.length){let t=new r;t.deserialize(s[0])&&(this._Property=t)}}return!0}get value(){return this._Property.value}get time(){return this._Time}get in(){return this._In}get out(){return this._Out}get interpolation(){return this._InterpolationType}}class ${constructor(){this._IsAnimated=!1,this._Property=null,this._KeyFrames=null}static deserializeType(t,e,r){if(!(t instanceof Object))return r(null);const n=new $;return n.deserialize(t,e)?r(n):r(null)}deserialize(t,e){let r;"a"in t?r=!!t.a:"k"in t&&Array.isArray(t.k)&&"object"==typeof t.k[0]&&"s"in t.k[0]&&(r=!0),this._IsAnimated=r;const n=t.k;if(r&&n instanceof Array){const t=[];let r=null;for(const a of n)a instanceof Object&&(Z.deserializeType(r,a,e,e=>{e&&t.push(e)}),r=a);return this._KeyFrames=t,!0}if(!r){const t=new e;return t.deserialize(n)&&(this._Property=t),!0}return!1}get animated(){return this._IsAnimated}get animatable(){return!0}get value(){return this._Property.value}get keyframes(){return this._KeyFrames}get firstValue(){return this.animated?this._KeyFrames[0].value:this.value}getValueIfNotDefault(t){if(this.animated)return this;{const e=this.value;if(Array.isArray(e)){if(e.length&&-1===e.findIndex(e=>e!==t))return}else if(e===t)return;return this}}}class tt{constructor(){this._Value=null}deserialize(t){return this._Value=t,!0}get value(){return this._Value}}class et{constructor(){this._Position=null,this._X=null,this._Y=null,this._HasSeparateDimensions=!1}deserialize(t){return a.boolean(t.s,t=>{this._HasSeparateDimensions=t}),this._HasSeparateDimensions?($.deserializeType(t.x,tt,t=>{this._X=t}),$.deserializeType(t.y,tt,t=>{this._Y=t})):$.deserializeType(t,tt,t=>{this._Position=t}),!0}get animated(){return this.hasSeparateDimensions?this._X.animated||this._Y.animated:this._Position.animated}get hasSeparateDimensions(){return this._HasSeparateDimensions}get position(){return this._Position}get x(){return this._X}get y(){return this._Y}get keyframes(){return this._Position.keyframes}get firstValue(){return this.hasSeparateDimensions?[this._X.firstValue,this._Y.firstValue]:this._Position.keyframes[0].value}get value(){return this.hasSeparateDimensions?[this._X.value,this._Y.value]:this._Position.value}getValueIfNotDefault(t){if(this.animated)return this;{let e;if(this.hasSeparateDimensions){if(this._X.value===t&&this._Y.value===t)return}else if(e=this._Position.value,e.length&&-1===e.findIndex(e=>e!==t))return;return this}}}class rt{constructor(){this._AnchorPoint=n.fromValues(0,0),this._Position=n.fromValues(0,0),this._Scale=n.fromValues(0,0),this._Rotation=0,this._Opacity=0,this._Type="transform"}deserialize(t){return $.deserializeType(t.r,tt,t=>{this._Rotation=t}),$.deserializeType(t.o,tt,t=>{this._Opacity=t}),a.type(t.p,et,t=>{this._Position=t}),$.deserializeType(t.a,tt,t=>{this._AnchorPoint=t}),$.deserializeType(t.s,tt,t=>{this._Scale=t}),!0}get position(){return this._Position}get anchorPoint(){return this._AnchorPoint}get scale(){return this._Scale}get rotation(){return this._Rotation}get opacity(){return this._Opacity}get type(){return this._Type}}class nt{constructor(){this.in=n.fromValues(0,0),this.out=n.fromValues(1,1),this.position=n.fromValues(0,0)}}class at{constructor(){this._IsClosed=!1,this._Vertices=null}deserialize(t){if(!(t instanceof Object))return!1;this._IsClosed=!0===t.c;const e=t.i,r=t.o,n=t.v;if(!(n instanceof Array))return!1;e instanceof Array&&e.length!==n.length&&(e=null),r instanceof Array&&r.length!==n.length&&(r=null);const a=[];for(let t=0,i=n.length;t<i;t++){const i=n[t],s=new nt;if(e){const r=e[t];s.in[0]=r[0]||0,s.in[1]=r[1]||0}if(s.position[0]=i[0]||0,s.position[1]=i[1]||0,r){const e=r[t];s.out[0]=e[0]||0,s.out[1]=e[1]||0}a.push(s)}return this._Vertices=a,!0}get closed(){return this._IsClosed}get vertices(){return this._Vertices}get value(){return this}}var it="elipse",st="fill",ot="gradient_fill",ut="gradient_stroke",ht="group",ct="path",lt="rectangle",ft="stroke",dt="transform",mt="trim path";class pt{constructor(){this._Vertices=null,this._Type=ct}deserialize(t){return $.deserializeType(t.pt,at,t=>{this._Vertices=t}),!0}get vertices(){return this._Vertices}get type(){return this._Type}}class _t{constructor(){this._Type=null,this._Name=null,this._InPoint=null,this._OutPoint=null,this._StartPoint=null,this._Id=null,this._ParentId=null,this._MaskType=null,this._BlendMode=null,this._Transform=null,this._ParentHierarchy=[],this._Masks=[],this._IsTrackMask=!1}deserialize(t){return a.string(t.nm,t=>{this._Name=t}),a.number(t.ip,t=>{this._InPoint=t}),a.number(t.op,t=>{this._OutPoint=t}),a.number(t.st,t=>{this._StartPoint=t}),a.number(t.parent||0,t=>{this._ParentId=t}),a.number(t.bm,t=>{this._BlendMode=t}),a.number(t.ty,t=>{this._Type=t}),a.type(t.ks,rt,t=>{this._Transform=t}),a.number(t.ind,t=>{this._Id=t}),a.typeList(t.masksProperties,pt,t=>{this._Masks=t}),t.tt&&a.number(t.tt,t=>{this._MaskType=t}),t.td&&(this._IsTrackMask=!0),!0}get name(){return this._Name}get type(){return this._Type}get transform(){return this._Transform}get parentId(){return this._ParentId}get id(){return this._Id}get inPoint(){return this._InPoint}get outPoint(){return this._OutPoint}get startPoint(){return this._StartPoint}get masks(){return this._Masks}get trackMaskType(){return this._MaskType}get isTrackMask(){return this._IsTrackMask}}class Mt{constructor(){this._Name=null,this._Vertices=null,this._Type=ct}deserialize(t){return a.string(t.nm,t=>{this._Name=t}),$.deserializeType(t.ks,at,t=>{this._Vertices=t}),!0}get vertices(){return this._Vertices}get type(){return this._Type}}let vt=0;const yt=()=>++vt;class gt{constructor(){this._Name=null,this._Color=null,this._Opacity=null,this._Type=st,this._DrawOrder=yt()}deserialize(t){return a.string(t.nm,t=>{this._Name=t}),$.deserializeType(t.o,tt,t=>{this._Opacity=t}),$.deserializeType(t.c,tt,t=>{this._Color=t}),!0}get type(){return this._Type}get color(){return this._Color}get opacity(){return this._Opacity}get drawOrder(){return this._DrawOrder}}class Pt{constructor(){this._Stops=0,this._Color=null}deserialize(t){return a.number(t.p,t=>{this._Stops=t}),$.deserializeType(t.k,tt,t=>{this._Color=t}),!0}get stops(){return this._Stops}get color(){return this._Color}}class bt{constructor(){this._Name=null,this._StartPoint=null,this._EndPoint=null,this._Opacity=null,this._Gradient=null,this._HighlightLength=null,this._GradientType=1,this._Type=ot,this._DrawOrder=yt()}deserialize(t){return a.string(t.nm,t=>{this._Name=t}),a.number(t.t,t=>{this._GradientType=t}),$.deserializeType(t.o,tt,t=>{this._Opacity=t}),$.deserializeType(t.s,tt,t=>{this._StartPoint=t}),$.deserializeType(t.e,tt,t=>{this._EndPoint=t}),a.type(t.g,Pt,t=>{this._Gradient=t}),2===this._GradientType&&$.deserializeType(t.h,tt,t=>{this._HighlightLength=t}),!0}get type(){return this._Type}get gradientType(){return this._GradientType}get color(){return this._Gradient}get opacity(){return this._Opacity}get endPoint(){return this._EndPoint}get startPoint(){return this._StartPoint}get color(){return this._Gradient}get stops(){return this._Stops}get highlightLength(){return this._HighlightLength}get drawOrder(){return this._DrawOrder}}class Tt{constructor(){this._Name=null,this._StartPoint=null,this._EndPoint=null,this._Opacity=null,this._Gradient=null,this._HighlightLength=null,this._GradientType=1,this._Width=0,this._LineCap=0,this._LineJoin=0,this._Type=ut,this._DrawOrder=yt()}deserialize(t){return a.string(t.nm,t=>{this._Name=t}),a.number(t.t,t=>{this._GradientType=t}),$.deserializeType(t.o,tt,t=>{this._Opacity=t}),$.deserializeType(t.s,tt,t=>{this._StartPoint=t}),$.deserializeType(t.e,tt,t=>{this._EndPoint=t}),a.type(t.g,Pt,t=>{this._Gradient=t}),$.deserializeType(t.w,tt,t=>{this._Width=t}),a.number(t.lc,t=>{this._LineCap=t}),a.number(t.lj,t=>{this._LineJoin=t}),2===this._GradientType&&$.deserializeType(t.h,tt,t=>{this._HighlightLength=t}),!0}get type(){return this._Type}get gradientType(){return this._GradientType}get color(){return this._Gradient}get opacity(){return this._Opacity}get endPoint(){return this._EndPoint}get startPoint(){return this._StartPoint}get color(){return this._Gradient}get stops(){return this._Stops}get highlightLength(){return this._HighlightLength}get width(){return this._Width}get lineCap(){return this._LineCap}get lineJoin(){return this._LineCap}get drawOrder(){return this._DrawOrder}}class Ot{constructor(){this._Name=null,this._Color=[0,0,0],this._Opacity=0,this._Width=0,this._LineCap=0,this._LineJoin=0,this._Type=ft,this._DrawOrder=yt()}deserialize(t){return a.string(t.nm,t=>{this._Name=t}),$.deserializeType(t.c,tt,t=>{this._Color=t}),$.deserializeType(t.o,tt,t=>{this._Opacity=t}),$.deserializeType(t.w,tt,t=>{this._Width=t}),a.number(t.lc,t=>{this._LineCap=t}),a.number(t.lj,t=>{this._LineJoin=t}),!0}get type(){return this._Type}get color(){return this._Color}get opacity(){return this._Opacity}get width(){return this._Width}get lineCap(){return this._LineCap}get lineJoin(){return this._LineJoin}get drawOrder(){return this._DrawOrder}}class St{constructor(){this._Name=null,this._Position=null,this._Size=null,this._Roundness=0,this._Type=lt}deserialize(t){return a.string(t.nm,t=>{this._Name=t}),$.deserializeType(t.r,tt,t=>{this._Roundness=t}),$.deserializeType(t.p,tt,t=>{this._Position=t}),$.deserializeType(t.s,tt,t=>{this._Size=t}),!0}get position(){return this._Position}get roundness(){return this._Roundness}get size(){return this._Size}get type(){return this._Type}}class At{constructor(){this._Name=null,this._Position=null,this._Size=null,this._Roundness=0,this._Type=it}deserialize(t){return a.string(t.nm,t=>{this._Name=t}),$.deserializeType(t.p,tt,t=>{this._Position=t}),$.deserializeType(t.s,tt,t=>{this._Size=t}),!0}get position(){return this._Position}get size(){return this._Size}get type(){return this._Type}}class wt{constructor(){this._Start=null,this._End=null,this._Offset=null,this._Type=mt}deserialize(t){return $.deserializeType(t.e,tt,t=>{this._End=t}),$.deserializeType(t.s,tt,t=>{this._Start=t}),$.deserializeType(t.o,tt,t=>{this._Offset=t}),!0}get type(){return this._Type}get start(){return this._Start}get end(){return this._End}get offset(){return this._Offset}}class Et{constructor(){this._Name=null,this._Items=null,this._Type=ht}deserialize(t){a.string(t.nm,t=>{this._Name=t});const e={sh:Mt,gr:Et,fl:gt,gf:bt,gs:Tt,st:Ot,tr:rt,rc:St,el:At,tm:wt};return a.typesList(t.it.reverse(),e,t=>{this._Items=t}),!0}get items(){return this._Items}get type(){return this._Type}}class It extends _t{constructor(){super(),this._Items=null}deserialize(t){if(!super.deserialize(t))return!1;const e={sh:Mt,gr:Et,fl:gt,gf:bt,gs:Tt,st:Ot,rc:St,el:At,tm:wt};return a.typesList(t.shapes.reverse(),e,t=>{this._Items=t}),!0}get items(){return this._Items}}var Nt=t=>{var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?[parseInt(e[1],16)/255,parseInt(e[2],16)/255,parseInt(e[3],16)/255,1]:[0,0,0,0]};class Lt extends _t{constructor(){super(),this._Width=0,this._Height=0,this._Color=null,this._DrawOrder=yt()}deserialize(t){return!!super.deserialize(t)&&(a.number(t.sw,t=>{this._Width=t}),a.number(t.sh,t=>{this._Height=t}),a.string(t.sc,t=>{this._Color=Nt(t)}),!0)}get width(){return this._Width}get height(){return this._Height}get color(){return this._Color}get drawOrder(){return this._DrawOrder}}class Rt extends _t{constructor(){super(),this._Width=0,this._Height=0,this._DrawOrder=yt()}deserialize(t){return!!super.deserialize(t)&&(a.number(t.sw,t=>{this._Width=t}),a.number(t.sh,t=>{this._Height=t}),this._AssetData=t.assetData,!0)}get width(){return this._Width}get height(){return this._Height}get drawOrder(){return this._DrawOrder}get assetData(){return this._AssetData}}class xt extends _t{constructor(t){super(),this._Assets=t,this._Items=null}deserialize(t){if(!super.deserialize(t))return!1;const e=t.layers,r={0:xt,1:Lt,2:Rt,3:_t,4:It};return a.typesList(e.reverse(),r,t=>{this._Layers=t}),!0}get layers(){return this._Layers}}class qt{constructor(){this._Name=null,this._Height=null,this._Width=null,this._InPoint=null,this._OutPoint=null,this._Layers=null,this._FrameRate=0}deserialize(t){a.string(t.v,t=>{this._Version=t}),a.string(t.nm,t=>{this._Name=t}),a.number(t.fr,60,t=>{this._FrameRate=t}),a.number(t.w,t=>{this._Width=t}),a.number(t.h,t=>{this._Height=t}),a.number(t.ip,t=>{this._InPoint=t}),a.number(t.op,t=>{this._OutPoint=t});const e={0:xt,1:Lt,2:Rt,3:_t,4:It};return a.typesList(t.layers.reverse(),e,t=>{this._Layers=t}),this._Assets=t.assets,!0}get layers(){return this._Layers}get width(){return this._Width}get height(){return this._Height}get frameRate(){return this._FrameRate}get inPoint(){return this._InPoint}get startPoint(){return 0}get outPoint(){return this._OutPoint}get assets(){return this._Assets}}let Dt=0;var zt=()=>++Dt;class Ct{constructor(t="NodeName",e=[],r="node",n={},a=1){this._Id=zt(),!Array.isArray(e)&&e&&(e=[e]),this._Children=e,this._Transform=n,this._Opacity=a,this._Name=t||"NodeName",this._Type=r,this._Clips=null}addChildren(t){this._Children=this._Children.concat(t)}addChild(t){!Array.isArray(t)&&t&&(t=[t]),this.addChildren(t)}convert(){return{type:this._Type,id:this.id,name:this._Name,...this._Transform,opacity:this._Opacity,displayType:"empty",children:this._Children,clips:this._Clips}}get id(){return this._Id}get name(){return this._Name}set name(t){this._Name=t}get type(){return this._Type}set type(t){this._Type=t}set transform(t){this._Transform=t}set opacity(t){this._Opacity=t}set clips(t){this._Clips=t}}var Yt=(t,e=1)=>Array.prototype.map.call(t,t=>t*e);const kt="opacity",Vt="strokeWidth",jt="translation",Ft="scale",Gt="size",Wt="rotation",Ht="path",Xt="color",Jt="strokeColor",Ut="gradientFillStops",Qt="gradientFillRadialStops",Bt="gradientStrokeStops",Kt="gradientStrokeRadialStops",Zt="gradientStart",$t="gradientEnd",te=[kt,"trimStart","trimEnd","trimOffset",Vt,"cornerRadius","gradientHighlightLength"],ee=[Ut,Qt,Bt,Kt],re=(t,e,r=[])=>{const n=t.length===6*e;let a=0,i=[...r];for(;a<e;){const r=4*a,s=[t[r+1],t[r+2],t[r+3]];s.push(n?t[4*e+2*a+1]:1),s.push(t[r]),i=i.concat(s),a+=1}return i},ne=(t,e,r=Number.MAX_SAFE_INTEGER)=>Yt(t,e).filter((t,e)=>e<r),ae=t=>t.vertices.map(t=>{const e=Yt(t.position),r=Yt(t.in).map((t,r)=>t+e[r]),n=Yt(t.out).map((t,r)=>t+e[r]);return{type:"point",id:zt(),name:"Path Point",translation:e,in:r,out:n,pointType:"D",radius:0,weights:[]}}),ie=t=>{const e=t.color.animated?t.color.firstValue:t.color.value,r=t.stops;return re(e,r)};var se=(t,e,r,n,a=1,i=0)=>{if(t.animated){let s;if(s=e===jt||e===Ft||e===Gt?ne(t.firstValue,a,2):te.includes(e)?t.firstValue*a:e===Wt?t.firstValue:e===Ht?ae(t.firstValue):e===Xt||e===Jt?ne(t.firstValue,a):ee.includes(e)?ie(t):Yt(t.firstValue,a),e===Ht)r.addPathAnimation(t,n,s,i);else if(ee.includes(e)){const a={[Ut]:"frameFillGradient",[Qt]:"frameFillRadial",[Bt]:"frameStrokeGradient",[Kt]:"frameStrokeRadial"};r.addGradientStopAnimation(t,n,i,a[e])}else e===jt&&t.hasSeparateDimensions?r.addSeparateDimensionsAnimation(t,e,n,a,i):r.addAnimation(t,e,n,a,i);return s}return e===jt||e===Ft?ne(t.value,a,2):te.includes(e)?t.value*a:e===Wt?t.value:e===Ht?ae(t.value):ee.includes(e)?ie(t):Yt(t.value,a)};const oe={translation:1,anchorPoint:-1,scale:.01,rotation:Math.PI/180};class ue{constructor(t,e){this._TransformProps=this.traverseTransformProps(t),this._AnchorPointTransform=this.getAnchorPointTransform(this._TransformProps),this._OuterTransform=this.getOuterPointTransform(this._TransformProps),this._ContainerName=e||"Container"}traverseTransformProps(t){if(!t)return null;const e={};return e.rotation=t.rotation.getValueIfNotDefault(0),"position"in t&&(e.translation=t.position.getValueIfNotDefault(0)),"scale"in t&&(e.scale=t.scale.getValueIfNotDefault(100)),"anchorPoint"in t&&(e.anchorPoint=t.anchorPoint.getValueIfNotDefault(0)),"opacity"in t&&(e.opacity=t.opacity.getValueIfNotDefault(100)),e}getAnchorPointTransform(t){return t&&t.anchorPoint?{anchorPoint:t.anchorPoint}:null}getOuterPointTransform(t){const e={};return t&&t.translation&&(e.translation=t.translation),t&&t.rotation&&(e.rotation=t.rotation),t&&t.scale&&(e.scale=t.scale),0===Object.keys(e).length?null:e}convertTransformations(t,e,r,n){return Object.keys(t).reduce((a,i)=>{const s="anchorPoint"===i?"translation":i,o=oe[i]||1;return a[s]=se(t[i],s,e,r,o,n),a},{})}convert(t,e){if(!this._AnchorPointTransform&&!this._OuterTransform)return null;let r;if(this._AnchorPointTransform){r=new Ct(this._ContainerName+"_Anchor");const n=this.convertTransformations(this._AnchorPointTransform,t,r.id,e);r.transform=n}if(this._OuterTransform){const n=[];r&&n.push(r.convert());const a=new Ct(this._ContainerName+"_Outer",n),i=this.convertTransformations(this._OuterTransform,t,a.id,e);return a.transform=i,a.convert()}return r.convert()}get opacity(){return this._TransformProps&&this._TransformProps.opacity}}const he=(t,e)=>{const r=t.children;return r.length?r.map(t=>he(t,e)):e.push(t),e},ce=(t,e)=>{(t=>he(t,[]))(t).forEach(t=>{e.forEach(e=>t.children.push(e))})},le=(t,e)=>{ce(t,[e])},fe="hidden local",de="hidden full",me="visible";class pe{constructor(t){this._PaintData=t}convert(t,e,r,n){if(!this._PaintData.opacity.animated&&0===this._PaintData.opacity.value)return;const a=new Ct("Color",null,"colorFill"),i=se(this._PaintData.opacity,kt,e,t,.01,r);a.opacity=i;const s=se(this._PaintData.color,Xt,e,t,1,r);return{...a.convert(),color:s,fillRule:"nonzero",...n}}}const _e="gradientFill",Me="radialGradientFill",ve="gradientStroke",ye="radialGradientStroke";class ge{constructor(t,e){this._GradientData=t,this._Start=null,this._End=null,this._Type=this.getPropertyType(e)}getPropertyType(t){switch(t){case _e:return Ut;case Me:return Qt;case ve:return Bt;case ye:return Kt}}convert(t,e,r,n,a){return this._Start=n,this._End=a,se(this,this._Type,t,r,1,e)}get animated(){return this._GradientData.color.animated}get color(){return this._GradientData.color}get stops(){return this._GradientData.stops}get start(){return this._Start}get end(){return this._End}get type(){return this._Type}}const Pe={1:"butt",2:"round",3:"square"},be={1:"miter",2:"round",3:"bevel"};class Te{constructor(t,e){this._ShapeData=t}convert(){}}class Oe extends Te{convert(t,e){const r=new Ct("Rectangle Path",[],"rectangle"),n=se(this._ShapeData.position,"translation",t,r.id,1,e),a=se(this._ShapeData.size,"size",t,r.id,1,e),i=se(this._ShapeData.roundness,"cornerRadius",t,r.id,1,e);return{...r.convert(),translation:n,width:a[0],height:a[1],cornerRadius:i}}}class Se extends Ct{constructor(t="NodeName",e=!0){super(t,[],"path"),this._IsClosed=e}convert(t){return{...super.convert(t),isClosed:this._IsClosed}}}class Ae{constructor(t){this._Transforms=t,this._Paths=[]}createTransformTree(t,e,r){let n=t;const a=this._Transforms;if(a.length){let i;a.forEach(t=>{const a=new ue(t).convert(e,r);a&&(i?le(i,a):n=a,i=a)}),i&&le(i,t)}return n}addPath(t){this._Paths.push(t)}convert(t,e){const r=this._Paths.map(r=>r.convert(t,e));let n;return n=1===r.length?r[0]:new Ct("Group Path",r,"node").convert(),this.createTransformTree(n,t,e)}get transforms(){return this._Transforms}}const we={fill:pe,gradient_fill:class{constructor(t){this._PaintData=t;const e=1===t.gradientType?_e:Me;this._GradientStops=new ge(t.color,e)}convert(t,e,r){const n=this._PaintData,a=n.gradientType,i=new Ct("Gradient Fill",null,1===a?_e:Me),s=se(n.opacity,kt,e,t,.01,r);i.opacity=s;const o=n.startPoint.animated?n.startPoint.firstValue:n.startPoint.value,u=n.endPoint.animated?n.endPoint.firstValue:n.endPoint.value,h=this._GradientStops.convert(e,r,t,o,u);return{...i.convert(),colorStops:h,fillRule:"nonzero",start:o,end:u}}},gradient_stroke:class{constructor(t){this._PaintData=t;const e=1===t.gradientType?ve:ye;this._GradientStops=new ge(t.color,e)}convert(t,e,r){const n=this._PaintData,a=n.gradientType,i=new Ct("Gradient Stroke",null,1===a?ve:ye),s=se(n.opacity,kt,e,t,.01,r);i.opacity=s;const o=se(this._PaintData.width,"strokeWidth",e,t,1,r),u=se(n.startPoint,Zt,e,t,1,r),h=se(n.endPoint,$t,e,t,1,r),c=this._GradientStops.convert(e,r,t,u,h);return{...i.convert(),colorStops:c,fillRule:"nonzero",start:u,end:h,cap:Pe[this._PaintData.lineCap],join:be[this._PaintData.lineJoin],width:o}}},stroke:class{constructor(t){this._PaintData=t}convert(t,e,r,n){const a=new Ct("Color",null,"colorStroke"),i=se(this._PaintData.opacity,kt,e,t,.01,r);a.opacity=i;const s=se(this._PaintData.color,Jt,e,t,1,r),o=se(this._PaintData.width,Vt,e,t,1,r);return{...a.convert(),color:s,cap:Pe[this._PaintData.lineCap],join:be[this._PaintData.lineJoin],width:o,...n}}}},Ee={[ct]:class extends Te{buildVertices(t,e,r,n){return se(t,"path",e,r,1,n)}convert(t,e){const r=this._ShapeData.vertices,n=r.animated?r.firstValue.closed:r.value.closed,a=new Se("Path",n),i=this.buildVertices(r,t,a.id,e);return a.addChildren(i),a.convert()}},[lt]:Oe,[it]:class extends Te{convert(t,e){const r=new Ct("Ellipse Path",[],"ellipse"),n=se(this._ShapeData.position,"translation",t,r.id,1,e),a=se(this._ShapeData.size,"size",t,r.id,1,e);return{...r.convert(),translation:n,width:a[0],height:a[1]}}}};class Ie{constructor(t,e=[],r=[]){const n=new(0,we[t.type])(t);this._Paints=[n],this._DrawOrder=t.drawOrder,this._Transforms=[...e],this._Paths=[],this._Nodes=[],this._IsClosed=!1,this._Modifiers=r}addPaint(t){const e=new(0,we[t.type])(t);this._Paints.push(e)}getAdditionalTransforms(t){return t.slice(this._Transforms.length)}addPathToNode(t,e){let r=this._Nodes.find(t=>{if(!t.transforms.find((t,r)=>{if(t!==e[r])return!0})&&e.length===t.transforms.length)return t});r||(r=new Ae(e),this._Paths.push(r),this._Nodes.push(r)),r.addPath(t)}addPath(t,e){if(!this._IsClosed){const r=Ee[t.type],n=this.getAdditionalTransforms(e),a=new r(t);n.length?this.addPathToNode(a,n):this._Paths.push(a)}}close(){this._IsClosed=!0}convertTextures(t,e,r,n,a){return this._Paints.map(i=>i.convert(e,t,r,n,a)).filter(t=>!!t)}exportTrim(t,e,r){const n=this._Modifiers.find(t=>t.type===mt);let a;if(n){a={trim:"sequential",trimStart:se(n.start,"trimStart",t,e,.01,r),trimEnd:se(n.end,"trimEnd",t,e,.01,r),trimOffset:se(n.offset,"trimOffset",t,e,1/360,r)}}else a={trim:"off",trimStart:0,trimEnd:1,trimOffset:0};return a}convert(t,e,r){const n=this._Paths.map(r=>r.convert(t,e));let a=new Ct("Shape",[],"shape");const i=this.exportTrim(t,a.id,e),s=this.convertTextures(t,a.id,e,i,r);a.addChildren([...s,...n]);const o={...a.convert(),blendMode:"srcOver",drawOrder:this._DrawOrder,transformAffectsStroke:!0,hidden:r};let u=o;const h=this._Transforms;if(h.length){let r;h.forEach(n=>{const a=new ue(n);if(a.opacity){const a=new Ct("Shape_Opacity");a.opacity=se(n.opacity,"opacity",t,a.id,.01,e);const i=a.convert();r?le(r,i):u=i,r=i}const i=a.convert(t,e);i&&(r?le(r,i):u=i,r=i)}),r&&le(r,o)}return u}}class Ne extends class{constructor(t,e,r,n){this._LottieLayer=t,this._Animations=e,this._OffsetTime=r,this._Transforms=new ue(t.transform,t.name),this._Children=[],this._Visibility=n?de:t.isTrackMask?fe:me,this._ContentId=null,this._PreviousChild=null}createContent(){return[]}convert(){let t=this.createContent();const e=t;this._ContentId=e.id;let r="alpha";const n=this.lottieLayer;if(n.trackMaskType){const t={1:"alpha",2:"inverted-alpha",3:"luminance",4:"inverted-luminance"},a=this._PreviousChild.contentId;e.masks=[a],r=t[n.trackMaskType]}if(e.maskType=r,this._Children.length){let e=this._Children.map(t=>t.convert());e=[t].concat(e),t=new Ct(name+"_Parenter",e).convert()}const a=this._Transforms.convert(this._Animations,this.offsetTime);return a&&(le(a,t),t=a),t}addChild(t){this._Children.push(t)}get lottieLayer(){return this._LottieLayer}get offsetTime(){return this._OffsetTime}get contentId(){return this._ContentId}get visibility(){return this._Visibility}set previous(t){this._PreviousChild=t}}{constructor(t,e,r,n){super(t,e,r,n)}createContentWrapper(t){const e=this.lottieLayer,r=this._Animations,n=this.offsetTime,a=e.name;if(e.masks&&e.masks.length){const i=new Ie({type:"fill",opacity:{value:0},drawOrder:0,color:{value:[0,0,0,0]}});e.masks.forEach(t=>{i.addPath(t,[])});const s=i.convert(r,n),o=new Ct(a+"_Clip",t=[t,s]);o.clips=[s.id],t=o.convert()}if(this._Transforms&&this._Transforms.opacity){const i=new Ct(a+"_Opacity",t);i.opacity=se(e.transform.opacity,"opacity",r,i.id,.01,n),t=i.convert()}if(e.inPoint+this.offsetTime>r.inPoint||e.outPoint+this.offsetTime<r.outPoint){const i=new Ct(a+"_InOut",t),s=[];e.inPoint+this.offsetTime>r.inPoint&&s.push({interpolation:0,value:[0],time:e.inPoint+this.offsetTime-1/r.frameRate}),s.push({interpolation:0,value:[100],time:e.inPoint},{interpolation:0,value:[0],time:e.outPoint}),i.opacity=se({animated:!0,firstValue:s[0].value,keyframes:s},"opacity",r,i.id,.01,n),t=i.convert()}return t}createContent(){const t=this.lottieLayer,e=this._Animations,r=this.offsetTime;let n=this.convertContent(t,e,r);return this.createContentWrapper(n)}}class Le extends Ne{convertContent(){return[]}}class Re extends Ne{convertContent(){const t=this.lottieLayer,e=new pe({color:{value:t.color},opacity:{value:100}}),r=new Oe({size:{value:[t.width,t.height]},position:{value:[t.width/2,t.height/2]},roundness:{value:0}});return{type:"shape",id:zt(),name:"Shape",blendMode:"srcOver",drawOrder:t.drawOrder,children:[e.convert("",null,null,null),r.convert(null,null)],hidden:this.visibility!==me}}}class xe extends Ne{convertContent(){const t=this.lottieLayer,e=t.assetData,r=e.w,n=e.h,a=[zt(),zt(),zt(),zt()];return{type:"image",id:zt(),name:"Image",asset:e.id,hidden:this.visibility!==me,assetPath:e.u+e.p,blendMode:"srcOver",drawOrder:t.drawOrder,translation:[r/2,n/2],tris:[3,0,1,1,2,3],children:[{type:"meshPoint",id:a[0],name:"Node",translation:[-r/2,-n/2],uv:[0,0],contour:a[1],isForced:!1},{type:"meshPoint",id:a[1],name:"Node",translation:[r/2,-n/2],uv:[r,0],contour:a[2],isForced:!1},{type:"meshPoint",id:a[2],name:"Node",translation:[r/2,n/2],uv:[r,n],contour:a[3],isForced:!1},{type:"meshPoint",id:a[3],name:"Node",translation:[-r/2,n/2],uv:[0,n],contour:a[0],isForced:!1},{type:"meshDeformPoint",id:zt(),name:"Node",translation:[-r/2,-n/2],uv:[0,0],weights:[1,0,0,0,1,0,0,0]},{type:"meshDeformPoint",id:zt(),name:"Node",translation:[r/2,-n/2],uv:[r,0],weights:[1,0,0,0,1,0,0,0]},{type:"meshDeformPoint",id:zt(),name:"Node",translation:[r/2,n/2],uv:[r,n],weights:[1,0,0,0,1,0,0,0]},{type:"meshDeformPoint",id:zt(),name:"Node",translation:[-r/2,n/2],uv:[0,n],weights:[1,0,0,0,1,0,0,0]}]}}}const qe=[ct,lt,it];class De extends Ne{createNewShape(t,e,r){return new Ie(t,e,r)}addPathToShapes(t,e,r){e.forEach(e=>{e.addPath(t,r)})}iterateGroup(t,e,r,n){const a=[],i=[...r],s=[...n];let o;return t.forEach(t=>{if(t.type===ht)this.iterateGroup(t.items,e,i,s),o=null;else if(t.type===st||t.type===ot){const r=this.createNewShape(t,i,s);e.push(r),a.push(r),o=r}else if(t.type===ft||t.type===ut){if(o)o.addPaint(t);else{const r=this.createNewShape(t,i,s);e.push(r),a.push(r)}o=null}else t.type===dt?(i.push(t),o=null):t.type===mt?(s.push(t),o=null):qe.includes(t.type)&&(this.addPathToShapes(t,e,i),o=null)}),a.forEach(t=>t.close()),e}buildShapes(t,e,r,n){const a=this.iterateGroup(t,[],[],[]).map(t=>t.convert(e,r,n));return new Ct("Shapes_Container",a).convert()}convertContent(){const t=this.lottieLayer,e=this._Animations,r=this.offsetTime,n=this.visibility!==me;return this.buildShapes(t.items,e,r,n)}}class ze extends Ne{constructor(t,e,r,n){super(t,e,r,n),this.createLayer=this.createLayer.bind(this)}createLayer(t){const e=this.lottieLayer.startPoint+this.offsetTime,r=this.visibility!==me;switch(t.type){case 0:return new ze(t,this._Animations,e,r);case 1:return new Re(t,this._Animations,e,r);case 2:return new xe(t,this._Animations,e,r);case 3:return new Le(t,this._Animations,e,r);case 4:return new De(t,this._Animations,e,r);default:return null}}createContent(){this.lottieLayer,this._Animations;const t=this.offsetTime;let e=this.convertLayers(this.lottieLayer.layers,this._Animations,t);return this.createContentWrapper(e)}nestChildLayers(t,e,r,n){if(e.lottieLayer.parentId){n.find(t=>t.lottieLayer.id===e.lottieLayer.parentId).addChild(e)}else t.push(e);return t}convertChild(t){return t.convert()}linkLayer(t,e,r){return t.previous=r[e-1],t}convertLayers(t){const e=t.reverse().map(this.createLayer).map(this.linkLayer).reduce(this.nestChildLayers,[]).map(this.convertChild);return new Ct("Precomp_Container",e).convert()}}class Ce extends ze{constructor(t,e){super(t,e),this._Composition=t,this._OffsetTime=0}convert(){const t=super.convert();return{type:"artboard",id:zt(),name:"Composition",translation:[0,0],origin:[0,0],width:this._Composition.width,height:this._Composition.height,color:[0,0,0,0],clipContents:!0,animations:this._Animations.convert(),children:[t]}}}class Ye{constructor(t){this._FPS=t.frameRate,this._InPoint=t.inPoint,this._OutPoint=t.outPoint,this._Offset=0,this._Nodes={},this._Converters={rotation:this.animateRotation.bind(this),trimStart:this.animateTrimStart.bind(this),trimEnd:this.animateTrimEnd.bind(this),trimOffset:this.animateTrimOffset.bind(this),translation:this.animateTranslation.bind(this),scale:this.animateScale.bind(this),opacity:this.animateOpacity.bind(this),color:this.animateColor.bind(this),strokeColor:this.animateStrokeColor.bind(this),strokeWidth:this.animateStroke.bind(this),cornerRadius:this.animateCornerRadius.bind(this),size:this.animateSize.bind(this)}}animateScale(t,e,r){return this.animateMultiNamedProperty(t,e,r,["frameScaleX","frameScaleY"])}animateColor(t,e,r){return this.animateMultidimensionalProperty("frameFillColor",t,e,r)}animateStrokeColor(t,e,r){return this.animateMultidimensionalProperty("frameStrokeColor",t,e,r)}animateTranslation(t,e,r){return this.animateMultiNamedProperty(t,e,r,["framePosX","framePosY"])}createInterpolationData(t,e,r=0){let n;if(0===t.interpolation)n={i:0};else if(t&&e&&e.time-t.time<=1)n={i:0};else{const e=Yt(t.in[r]);n={curve:Yt(t.out[r]).concat(e),i:2}}return n}animateMultiNamedProperty(t,e,r,n){const a=n.map(()=>[]);return t.forEach((n,i)=>{let s={t:(n.time+r)/this._FPS};const o=n.value;a[0].push({v:o[0]*e,...this.createInterpolationData(n,t[i+1],0),...s}),a[1].push({v:o[1]*e,...this.createInterpolationData(n,t[i+1],1),...s})}),n.reduce((t,e,r)=>(t[e]=a[r],t),{})}animateSize(t,e,r){return this.animateMultiNamedProperty(t,e,r,["frameWidth","frameHeight"])}animateMultidimensionalProperty(t,e,r,n){return{[t]:e.map((t,a)=>a===e.length-1?{v:t.value.map(t=>t*r),t:(t.time+n)/this._FPS,i:1}:{v:t.value.map(t=>t*r),t:(t.time+n)/this._FPS,...this.createInterpolationData(t,e[a+1],0)})}}animateUnidimensionalProperty(t,e,r,n){return{[t]:e.map((t,a)=>a===e.length-1?{v:t.value[0]*r,t:(t.time+n)/this._FPS,i:1}:{v:t.value[0]*r,t:(t.time+n)/this._FPS,...this.createInterpolationData(t,e[a+1],0)})}}animateOpacity(t,e,r){return this.animateUnidimensionalProperty("frameOpacity",t,e,r)}animateStroke(t,e,r){return this.animateUnidimensionalProperty("frameStrokeWidth",t,e,r)}animateCornerRadius(t,e,r){return this.animateUnidimensionalProperty("frameCornerRadius",t,e,r)}animateRotation(t,e,r){return this.animateUnidimensionalProperty("frameRotation",t,e,r)}animateTrimStart(t,e,r){return this.animateUnidimensionalProperty("frameStrokeStart",t,e,r)}animateTrimEnd(t,e,r){return this.animateUnidimensionalProperty("frameStrokeEnd",t,e,r)}animateTrimOffset(t,e,r){return this.animateUnidimensionalProperty("frameStrokeOffset",t,e,r)}addAnimation(t,e,r,n,a){const i={...this._Nodes[r],...this._Converters[e](t.keyframes,n,a)};this._Nodes[r]=i}addSeparateDimensionsAnimation(t,e,r,n,a){let i={...this._Nodes[r]};const s=t.x,o=t.y;s.animated&&(i={...i,...this.animateUnidimensionalProperty("framePosX",s.keyframes,n,a)}),o.animated&&(i={...i,...this.animateUnidimensionalProperty("framePosY",o.keyframes,n,a)}),this._Nodes[r]=i}addPathAnimation(t,e,r,n){const a=t.keyframes,i={framePathVertices:a.map((t,e)=>{const i=t.value.vertices.reduce((t,e,n,a)=>{const i=Yt(e.position),s=Yt(e.in).map((t,e)=>t+i[e]),o=Yt(e.out).map((t,e)=>t+i[e]);return t[r[n].id]={pos:i,in:s,out:o},t},{});return{t:(t.time+n)/this._FPS,v:i,...this.createInterpolationData(t,a[e+1],0)}})},s={...this._Nodes[e],...i};this._Nodes[e]=s}addGradientStopAnimation(t,e,r,n){const a=t.start,i=t.end;let s=[];t.type!==Qt&&t.type!==Kt||s.push(1),s=s.concat(a).concat(i);const o=t.stops,u=t.color.keyframes,h={[n]:u.map((t,e)=>{const n=t.value,a=re(n,o,s);return{t:(t.time+r)/this._FPS,v:a,...this.createInterpolationData(t,u[e+1],0)}})},c={...this._Nodes[e],...h};this._Nodes[e]=c}getMinimumKeyframeTime(){let t=0;return Object.keys(this._Nodes).forEach(e=>{const r=this._Nodes[e];Object.keys(r).forEach(e=>{const n=r[e];t=Math.min(t,n[0].t)})}),t}offsetAnimations(t){Object.keys(this._Nodes).forEach(e=>{const r=this._Nodes[e];Object.keys(r).forEach(e=>{r[e].forEach(e=>{e.t+=t})})})}convert(){let t=-this.getMinimumKeyframeTime();t>0&&this.offsetAnimations(t);const e=this.inPoint/this.frameRate+t,r=this.outPoint/this.frameRate+t,n=this.outPoint/this.frameRate+4+t;return[{displayEnd:n,displayStart:Math.max(0,e-1),duration:n,fps:this._FPS,id:zt(),isWorkAreaActive:!0,loop:!1,name:"Animations",order:-1,nodes:this._Nodes,workAreaStart:e,workAreaEnd:r}]}get inPoint(){return this._InPoint}get outPoint(){return this._OutPoint}get frameRate(){return this._FPS}}var ke=async t=>{const e=new Ye(t);return new Ce(t,e).convert()};var Ve=t=>t.filter(t=>!!t.p).map(t=>({name:t.id,id:t.id,type:"image/png",showBorder:!0,isFilteringEnabled:!0}));var je=async t=>{const e=await ke(t),r=Ve(t.assets||[]);return{artboards:{type:"artboards",id:zt(),name:"Artboards",main:0,children:[e]},assets:r,settings:{}}};class Fe{constructor(t){}completeLayer(t,e){if(!t.refId)return t;if(0===t.ty){const r=JSON.parse(JSON.stringify(e.find(e=>e.id===t.refId).layers)).map(t=>this.completeLayer(t,e));return{...t,refId:void 0,layers:r}}if(2===t.ty){const r=JSON.parse(JSON.stringify(e.find(e=>e.id===t.refId)));return{...t,refId:void 0,assetData:r}}}completeData(t){const e=t.assets;return t.layers=t.layers.map(t=>this.completeLayer(t,e)),t}convert(t){return new Promise((e,r)=>{let n=null;try{n=JSON.parse(t)}catch(t){return void r()}vt=0;const a=new qt;n=this.completeData(n),a.deserialize(n)&&e(je(a))})}}}});
//# sourceMappingURL=BodyMovinImporter.0ca3225cc6186571f5d0.js.map